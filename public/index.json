[{"content":"Welcome to my blog\n","date":"17 Mar, 2024","externalUrl":null,"permalink":"/","section":"","summary":"Welcome to my blog","title":""},{"content":"","date":"17 Mar, 2024","externalUrl":null,"permalink":"/categories/","section":"Categories","summary":"","title":"Categories"},{"content":"","date":"17 Mar, 2024","externalUrl":null,"permalink":"/categories/infosec/","section":"Categories","summary":"","title":"Infosec"},{"content":"","date":"17 Mar, 2024","externalUrl":null,"permalink":"/tags/lab/","section":"Tags","summary":"","title":"Lab"},{"content":"Welcome to the first part of my walkthrough for \u0026lsquo;The Ultimate Kali Linux Book\u0026rsquo; by Glen D. Singh, this is a highly recommended book from Packt which have a reputation of provide top quality content for the IT industry. In this part I will be building multiple lab environments with vulnerable machines which I can utilise to test out different penetration techniques in a safe and legal network.\n1. First lab within VirtualBox # The diagram demonstrate the environment for this first network lab where I will be using a popular penetration OS, Kali Linux to test out the different tools that comes within its arsenal.\nFor the virtual machine of choice I went with Vbox due to previous experience with the software in the past however, upon research for different types of virtualisation I came across KVM/Qemu which is a fully open-source and a higher frequency of security update with transparent reports whereas Oracle provides security through obscurity.\n2. Setting up network interfaces using vboxmanage # Inside a terminal type the following commands\nCreate a dhcpserver called \u0026ldquo;PentestNet\u0026rdquo; vboxmanage dhcpserver add --network=PentestNet --server-ip=172.30.1.1 --lower-ip=172.30.1.20 --upper-ip=172.30.1.50 --netmask=255.255.255.0 --enable Create a dhcpserver called \u0026ldquo;HiddenNet\u0026rdquo; vboxmanage dhcpserver add --network=HiddenNet --server-ip=10.11.12.1 --lower-ip=10.11.12.20 --upper-ip=10.11.12.50 --netmask=255.255.255.0 --enable Create a dhcpserver called \u0026ldquo;RedTeamLab\u0026rdquo; vboxmanage dhcpserver add --network=RedTeamLab --server-ip=192.168.42.1 --lower-ip=192.168.42.20 --upper-ip=192.168.42.50 --netmask=255.255.255.0 --enable 3. Setting up Kali Linux # Going through the standard VMware installation for Kali linux I will need to assign it to networks so it has LAN connection to the other machines.\nIn settings of Kali VM, Adapter 1: Adapter 2: Adapter 3: 4. Setting up Metasploitable 2 # Install the iso file on the internet at https://sourceforge.net/projects/metasploitable/files/Metasploitable2/ and go through standard installation on VMware:\nIn VirtualBox New \u0026gt; Expert Mode \u0026gt; Name: Metasploitable2 \u0026gt; Memory:512M \u0026gt; Hard Disk \u0026gt; Use an Existing Virtual Hard Disk File \u0026gt; Hard Disk Selector \u0026gt; Add Metastpoitable.vmdk \u0026gt; Choose \u0026gt; Finish In settings of Metasploitable 2 Adapter 1: 5. Setting up Metasploitable 3 # To install Metasploitable 3 I used Vagrant, a command line utility tool to manage and download virtual machines pre-made on it\u0026rsquo;s repository. The installation process is simple and can be found here https://developer.hashicorp.com/vagrant/install.\nThe following commands were used:\n$ vagrant plugin install vagrant-reload $ vagrant plugin install vagrant-vbguest $ mkdir metasploitable3-workspace $ cd metasploitable3-workspace $ curl -O https://raw.githubusercontent.com/rapid7/metasploitable3/master/Vagrantfile \u0026amp;\u0026amp; vagrant up Encountering IP address configuration error during setup When setting up Vagrant I encountered an error message on a misconfigured IP range, upon further research I came across someone with a similar problem and found a solution here [1]\nIssue prompt: Fix for IP issue:\nsudo vim /etc/vbox/networks.conf Add an asterisk * in front of the lines *10.0.0.0/8 172.16.0.0/12 192.168.0.0/16 *2001::/64 6. Setting up OWASP Juice Shop website # On the Kali Linux VM terminal: $ curl -fsSL https://download.docker.com/linux/debian/gpg | gpg - dearmor | sudo tee /usr/share/keyrings/docker-archive-keyring.gpg \u0026gt;/dev/null $ echo \u0026#39;deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/debian buster stable\u0026#39; | sudo tee /etc/apt/sources.list.d/docker.list $ sudo apt install -y docker-ce docker-ce-cli containerd.io $ sudo docker pull bkimminich/juice-shop $ sudo docker pull bkimminich/juice-shop Connect to OWASP website http://localhost:3000 7. Setting up OWASP Broken Web Applications # Install the zip file on the internet at https://sourceforge.net/projects/owaspbwa/files/\nThis will contain pre-made Vbox machines which needs to be connected to the lab network:\nVM Box \u0026gt; New \u0026gt; Expert Mode \u0026gt; Name: OWASP BWA \u0026gt; Type: Linux \u0026gt; Memory: 1024 MB \u0026gt; Hard Disk Selector add: OWASP Broken Web Apps-cl1.vmdk \u0026gt; Choose \u0026gt; Finish Click on Settings of OWASP Web \u0026gt; Network \u0026gt; Adapter 1 \u0026gt; Attached to: Internal Network \u0026gt; Name: PentestNet \u0026gt; OK Login : root:owaspbwa This was it for this walkthrough on how to install and setuping up multiple virtual machines and having them connected to a private network for testing, there is an extended section to setup an environment for advanced hacking techniques but will be covered in a later part. Next I will be covering passive information-gather, one of the most important step to a great attack.\nReferences # https://stackoverflow.com/questions/70704093/the-ip-address-configured-for-the-host-only-network-is-not-within-the-allowed-ra ","date":"17 Mar, 2024","externalUrl":null,"permalink":"/posts/part-1-buidling-a-penetration-testing-labs/","section":"Blog","summary":"Welcome to the first part of my walkthrough for \u0026lsquo;The Ultimate Kali Linux Book\u0026rsquo; by Glen D.","title":"Part 1 Building a Penetesting Testing Lab"},{"content":"","date":"17 Mar, 2024","externalUrl":null,"permalink":"/series/","section":"Series","summary":"","title":"Series"},{"content":"","date":"17 Mar, 2024","externalUrl":null,"permalink":"/tags/","section":"Tags","summary":"","title":"Tags"},{"content":"","date":"17 Mar, 2024","externalUrl":null,"permalink":"/series/ultimate-kali-linux-book/","section":"Series","summary":"","title":"Ultimate-Kali-Linux-Book"},{"content":" 1. Going through the Nessus Essentials setup # https://www.tenable.com/downloads/nessus?loginAttempted=true Download the deb file for kali and install it on system Run [[Systemctl]] service and open web portal with sudo systemctl start nessusd This uses a lot of resources on the cpu ?! Is there a way to check how much resources systemctl processes uses ? ![[Pasted image 20240304191348.png]] A scan will provide vulnerabilities along with it Common vulnerability Score System (CVSS) out of 10 to show danger levels which can be determined by this calculator https://www.first.org/cvss/calculator/4.0#CVSS:4.0/AV:N/AC:L/AT:N/PR:N/UI:N/VC:N/VI:N/VA:N/SC:N/SI:N/SA:N 2. Making use of the Nmap Scripting Engine NSE # Documentation located here https://nmap.org/book/man-nse.html\nThis is an engine which can run scripts such as custom types of scans, discovery and even exploit execution on targets which is quite powerful.\nIt uses the Lua programming language The currently defined categories are auth, broadcast, brute, default. discovery, dos, exploit, external, fuzzer, intrusive, malware, safe, version, and vuln\nSearch script in these categories with nmap --script \u0026quot;\u0026lt;keyword\u0026gt;\u0026quot;\nScript can be found here https://nmap.org/nsedoc/scripts/\nrunning nmap --script ftp-vsftpd-backdoor 172.30.1.20 will show if the ftp port version used is vulnerable to a 2011 exploit\nTo see if there are any exploits available in the metasploitable framework searchsploit vsFTPd, this will provide a description of any found exploits\nTo do an entire category scan use nmap --script vuln 172.30.1.20 This is a great starting point for showing the capabilities of nmap and how truly versatile it can be, though it was only a networking port scanning tools but it can do a lot more\n3. Greenbone security scanner # This tool seems to be similar to nessus tool which provides lots of options for reconnaissance.\nsudo apt install gvm sudo gvm-setup sudo gvm-start sudo runuser -u _gvm -- gvmd --user=admin --new-password=new_password # reset pass 4. Using Web Application Scanners # The methods above where overall system vulnerability scanners which will include results for all sorts of vulnerabilities so this section is all scanner methods for web technologies\nWhatWeb # This is a finger printing tool specifically for websites to identify technologies used and extra information such as emails\nUse whatweb \u0026lt;IP\u0026gt; Example outcome: ![[Pasted image 20240314134511.png]] Provides web applications and versions Web technologies and versions Host operating systems and emails Nmap Web Application Scanning # Scripts for nmap can be found in /usr/share/nmap/scripts/http* where I can use [[Pattern Searches]] to find specific files\nThis will display a list of scripts for http technologies, here is where I can find the sql injection script Use with nmap --script http-sql-injection \u0026lt;IP\u0026gt; I should look into https://nmap.org/nsedoc/ and explore different possible script to execute on specific technologies Using Metasploit\u0026rsquo;s Wmap for web scanning # First initialise metasploit database service postgresql start sudo msfdb init \u0026amp;\u0026amp; msfconsole Metasploitable framework Ctrl + X # Clear terminal load -l # Display all modules load wmap # Load into wmap help # Update the help menu with new commands at top wmap_sites -a 172.30.1.23 # Main site of where the attack will happen wmap_targets -t 172.30.1.23/mutilliadae/ # Specific directory for attack wmap_targets -l # List targets from sites wmap_run -t # List all loaded modules for scans wmap_run -e # Run all scans on target Nikto # Related Questions # ?! What are the best resources to find vulnerability management ?\nRelated Ideas # \u0026lt;% tp.file.cursor(5) %\u0026gt;\n","date":"14 Mar, 2024","externalUrl":null,"permalink":"/posts/chapter-6-performing-vulnerability-assessments/","section":"Blog","summary":"1.","title":"Chapter 6 Performing Vulnerability Assessments"},{"content":"","date":"14 Mar, 2024","externalUrl":null,"permalink":"/categories/computing/","section":"Categories","summary":"","title":"Computing"},{"content":"","date":"14 Mar, 2024","externalUrl":null,"permalink":"/tags/lain/","section":"Tags","summary":"","title":"Lain"},{"content":"","date":"1 Jan, 2020","externalUrl":null,"permalink":"/posts/","section":"Blog","summary":"","title":"Blog"},{"content":"","date":"1 Jan, 0001","externalUrl":null,"permalink":"/authors/","section":"Authors","summary":"","title":"Authors"}]